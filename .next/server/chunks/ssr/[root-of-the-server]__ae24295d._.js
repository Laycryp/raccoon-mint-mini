module.exports=[224361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},814747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},500874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},688947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},406461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},329844,a=>{"use strict";var b=a.i(254799);let c=new Uint8Array(256),d=c.length;function e(){return d>c.length-16&&(b.default.randomFillSync(c),d=0),c.slice(d,d+=16)}a.s(["default",()=>e])},144780,a=>{"use strict";let b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;a.s(["default",0,function(a){return"string"==typeof a&&b.test(a)}],144780)},927495,a=>{"use strict";var b=a.i(144780);let c=[];for(let a=0;a<256;++a)c.push((a+256).toString(16).substr(1));a.s(["default",0,function(a,d=0){let e=(c[a[d+0]]+c[a[d+1]]+c[a[d+2]]+c[a[d+3]]+"-"+c[a[d+4]]+c[a[d+5]]+"-"+c[a[d+6]]+c[a[d+7]]+"-"+c[a[d+8]]+c[a[d+9]]+"-"+c[a[d+10]]+c[a[d+11]]+c[a[d+12]]+c[a[d+13]]+c[a[d+14]]+c[a[d+15]]).toLowerCase();if(!(0,b.default)(e))throw TypeError("Stringified UUID is invalid");return e}])},833394,a=>{"use strict";var b=a.i(329844),c=a.i(927495);a.s(["default",0,function(a,d,e){let f=(a=a||{}).random||(a.rng||b.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){e=e||0;for(let a=0;a<16;++a)d[e+a]=f[a];return d}return(0,c.default)(f)}])},972981,a=>{"use strict";var b=a.i(115135);function c({chain:a,currentChainId:c}){if(!a)throw new b.ChainNotFoundError;if(c!==a.id)throw new b.ChainMismatchError({chain:a,currentChainId:c})}a.s(["assertCurrentChain",()=>c])},570922,a=>{"use strict";var b=a.i(384361),c=a.i(587409),d=a.i(831983);function e(a,{docsPath:e,...f}){let g,h=(g=(0,d.getNodeError)(a,f))instanceof b.UnknownNodeError?a:g;return new c.TransactionExecutionError(h,{docsPath:e,...f})}a.s(["getTransactionError",()=>e])},613439,487591,a=>{"use strict";var b=a.i(424330),c=a.i(647624),d=a.i(597157),e=a.i(148047),f=a.i(512478),g=a.i(996356),h=a.i(375734),i=a.i(972981),j=a.i(570922),k=a.i(610462),l=a.i(372662),m=a.i(905274),n=a.i(243982),o=a.i(532509),p=a.i(57691),q=a.i(356938);let r=new m.LruMap(128);async function s(a,d){let{account:e=a.account,chain:m=a.chain,accessList:s,authorizationList:t,blobs:u,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,type:C,value:D,...E}=d;if(void 0===e)throw new c.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let F=e?(0,b.parseAccount)(e):null;try{(0,n.assertRequest)(d);let b=await (async()=>d.to?d.to:null!==d.to&&t&&t.length>0?await (0,h.recoverAuthorizationAddress)({authorization:t[0]}).catch(()=>{throw new g.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(F?.type==="json-rpc"||null===F){let c;null!==m&&(c=await (0,f.getAction)(a,o.getChainId,"getChainId")({}),(0,i.assertCurrentChain)({currentChainId:c,chain:m}));let d=a.chain?.formatters?.transactionRequest?.format,e=(d||l.formatTransactionRequest)({...(0,k.extract)(E,{format:d}),accessList:s,account:F,authorizationList:t,blobs:u,chainId:c,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,to:b,type:C,value:D},"sendTransaction"),g=r.get(a.uid);try{return await a.request({method:g?"wallet_sendTransaction":"eth_sendTransaction",params:[e]},{retryCount:0})}catch(b){if(!1===g)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[e]},{retryCount:0}).then(b=>(r.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw r.set(a.uid,!1),b;throw c});throw b}}if(F?.type==="local"){let c=await (0,f.getAction)(a,p.prepareTransactionRequest,"prepareTransactionRequest")({account:F,accessList:s,authorizationList:t,blobs:u,chain:m,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,nonceManager:F.nonceManager,parameters:[...p.defaultParameters,"sidecars"],type:C,value:D,...E,to:b}),d=m?.serializers?.transaction,e=await F.signTransaction(c,{serializer:d});return await (0,f.getAction)(a,q.sendRawTransaction,"sendRawTransaction")({serializedTransaction:e})}if(F?.type==="smart")throw new c.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new c.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:F?.type})}catch(a){if(a instanceof c.AccountTypeNotSupportedError)throw a;throw(0,j.getTransactionError)(a,{...d,account:F,chain:d.chain||void 0})}}async function t(a,b){return t.internal(a,s,"sendTransaction",b)}a.s(["sendTransaction",()=>s],487591),(t||(t={})).internal=async function(a,g,h,i){let{abi:j,account:k=a.account,address:l,args:m,dataSuffix:n,functionName:o,...p}=i;if(void 0===k)throw new c.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let q=k?(0,b.parseAccount)(k):null,r=(0,d.encodeFunctionData)({abi:j,args:m,functionName:o});try{return await (0,f.getAction)(a,g,h)({data:`${r}${n?n.replace("0x",""):""}`,to:l,account:q,...p})}catch(a){throw(0,e.getContractError)(a,{abi:j,address:l,args:m,docsPath:"/docs/contract/writeContract",functionName:o,sender:q?.address})}},a.s(["writeContract",()=>t],613439)},622143,a=>{"use strict";var b=a.i(772007),c=a.i(230908),d=a.i(651137),e=a.i(571911),f=a.i(217800),g=a.i(392529),h=a.i(84398),i=a.i(67460);function j(a={}){let{abi:b,address:c,functionName:d,query:k={}}=a,l=a.code,m=(0,i.useConfig)(a),n=(0,e.useChainId)({config:m}),o=function(a,b={}){return{async queryFn({queryKey:c}){let d=b.abi;if(!d)throw Error("abi is required");let{functionName:e,scopeKey:g,...h}=c[1],i=(()=>{let a=c[1];if(a.address)return{address:a.address};if(a.code)return{code:a.code};throw Error("address or code is required")})();if(!e)throw Error("functionName is required");return(0,f.readContract)(a,{abi:d,functionName:e,args:h.args,...i,...h})},queryKey:function(a={}){let{abi:b,...c}=a;return["readContract",(0,g.filterQueryOptions)(c)]}(b)}}(m,{...a,chainId:a.chainId??n}),p=!!((c||l)&&b&&d&&(k.enabled??!0));return(0,h.useQuery)({...k,...o,enabled:p,structuralSharing:k.structuralSharing??g.structuralSharing})}var k=a.i(185863),l=a.i(613439),m=a.i(308544),n=a.i(967472);async function o(a,b){let c,{account:d,chainId:e,connector:f,...g}=b;c="object"==typeof d&&d?.type==="local"?a.getClient({chainId:e}):await (0,n.getConnectorClient)(a,{account:d??void 0,assertChainId:!1,chainId:e,connector:f});let h=(0,m.getAction)(c,l.writeContract,"writeContract");return await h({...g,...d?{account:d}:{},chain:e?{id:e}:null})}var p=a.i(9359),q=a.i(885357),r=a.i(663401),s=a.i(921978);async function t(a,b){let{chainId:c,timeout:d=0,...e}=b,f=a.getClient({chainId:c}),g=(0,m.getAction)(f,s.waitForTransactionReceipt,"waitForTransactionReceipt"),h=await g({...e,timeout:d});if("reverted"===h.status){let a=(0,m.getAction)(f,r.getTransaction,"getTransaction"),{from:b,...c}=await a({hash:h.transactionHash}),d=(0,m.getAction)(f,q.call,"call"),e=await d({...c,account:b,data:c.input,gasPrice:"eip1559"!==c.type?c.gasPrice:void 0,maxFeePerGas:"eip1559"===c.type?c.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===c.type?c.maxPriorityFeePerGas:void 0});throw Error(e?.data?(0,p.hexToString)(`0x${e.data.substring(138)}`):"unknown reason")}return{...h,chainId:f.chain.id}}var u=a.i(718383),v=a.i(180522),w=a.i(872442);a.i(874583);let x=[{type:"function",name:"remaining",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"maxSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"priceUSDC",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"saleActive",stateMutability:"view",inputs:[],outputs:[{type:"bool"}]},{type:"function",name:"maxPerWallet",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"mintedOf",stateMutability:"view",inputs:[{name:"owner",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"mint",stateMutability:"nonpayable",inputs:[{name:"qty",type:"uint256"}],outputs:[]}],y=[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"owner",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];var z=a.i(745987);function A(){let a=(0,e.useChainId)(),{address:f,isConnected:l}=(0,d.useAccount)(),[m,n]=(0,c.useState)(1),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>q(!0),[]),(0,c.useEffect)(()=>{},[]);let r=p&&l&&a===z.CHAIN_ID,{data:s}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"remaining",query:{enabled:!!r}}),{data:A}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"totalSupply",query:{enabled:!!r}}),{data:C}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"maxSupply",query:{enabled:!!r}}),{data:D}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"priceUSDC",query:{enabled:!!r}}),{data:E}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"saleActive",query:{enabled:!!r}}),{data:F}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"maxPerWallet",query:{enabled:!!r}}),{data:G}=j({address:z.CONTRACT_ADDRESS,abi:x,functionName:"mintedOf",args:[f??"0x0000000000000000000000000000000000000000"],query:{enabled:!!r&&!!f}}),{data:H}=j({address:z.USDC_ADDRESS,abi:y,functionName:"allowance",args:[f??"0x0000000000000000000000000000000000000000",z.CONTRACT_ADDRESS],query:{enabled:!!r&&!!f}}),I=A??0n,J=C??333n,K=(0,c.useMemo)(()=>0n===J?0:Math.min(100,Math.max(0,Number(100n*I/J))),[I,J]),L=(0,c.useMemo)(()=>(D??0n)*BigInt(m),[D,m]),M=(0,c.useMemo)(()=>void 0!==H&&H>=L,[H,L]),N=(0,c.useMemo)(()=>void 0!==F&&void 0!==G&&G+BigInt(m)>F,[F,G,m]),O=(0,c.useMemo)(()=>p?l?a!==z.CHAIN_ID?"Switch to Base mainnet":!1===E?"Sale is not active":void 0!==s&&0n===s?"Sold out":m<1||m>z.MAX_QTY_UI?`Qty must be 1–${z.MAX_QTY_UI}`:N?"Exceeds wallet limit":null:"Connect wallet to continue":"Loading…",[p,l,a,E,s,m,N]),{writeContract:P,data:Q,isPending:R}=function(a={}){var b;let{mutation:c}=a,d=(b=(0,i.useConfig)(a),{mutationFn:a=>o(b,a),mutationKey:["writeContract"]}),{mutate:e,mutateAsync:f,...g}=(0,k.useMutation)({...c,...d});return{...g,writeContract:e,writeContractAsync:f}}(),{isLoading:S,isSuccess:T}=function(a={}){let{hash:b,query:c={}}=a,d=(0,i.useConfig)(a),f=(0,e.useChainId)({config:d}),j=function(a,b={}){return{async queryFn({queryKey:c}){let{hash:d,...e}=c[1];if(!d)throw Error("hash is required");return t(a,{...e,onReplaced:b.onReplaced,hash:d})},queryKey:function(a={}){let{onReplaced:b,...c}=a;return["waitForTransactionReceipt",(0,g.filterQueryOptions)(c)]}(b)}}(d,{...a,chainId:a.chainId??f}),k=!!(b&&(c.enabled??!0));return(0,h.useQuery)({...c,...j,enabled:k})}({hash:Q}),U=async()=>{L&&P({chainId:u.base.id,address:z.USDC_ADDRESS,abi:y,functionName:"approve",args:[z.CONTRACT_ADDRESS,L]})},V=async()=>{P({chainId:u.base.id,address:z.CONTRACT_ADDRESS,abi:x,functionName:"mint",args:[BigInt(m)]})};(0,c.useEffect)(()=>{T&&Q&&f&&(async()=>{try{await fetch("/api/notify",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({type:"mint",qty:m,address:f,tx:Q,contract:z.CONTRACT_ADDRESS})})}catch(a){console.error("Notify failed",a)}})()},[T,Q,f,m]);let W=a=>void 0===a?"—":(0,w.formatUnits)(a,z.USDC_DECIMALS),X=!!O||!M||R||S,Y=!!O||M||R||S;(0,c.useEffect)(()=>{if(void 0!==s){let a=Number(s>BigInt(z.MAX_QTY_UI)?z.MAX_QTY_UI:s);m>a&&n(Math.max(1,a))}},[s]);let Z=p&&void 0!==G?G.toString():"—";return(0,b.jsxs)("main",{className:"min-h-screen bg-neutral-950 text-white",children:[(0,b.jsxs)("header",{className:"flex items-center justify-between p-4 border-b border-neutral-800",children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:"RACCOON-MINT"}),(0,b.jsx)(v.ConnectButton,{})]}),(0,b.jsxs)("section",{className:"max-w-3xl mx-auto p-6 grid gap-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/60 p-6 flex items-center gap-6",children:[(0,b.jsx)(B,{percent:K,label:`${I.toString()}/${J.toString()} Minted`}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"text-sm text-neutral-300",children:[(0,b.jsx)("span",{className:"font-medium",children:"Max 5"})," per wallet"]}),(0,b.jsxs)("div",{className:"text-sm text-neutral-300",children:["You minted: ",(0,b.jsx)("span",{className:"font-mono text-white",children:Z})]}),(0,b.jsxs)("div",{className:"text-sm text-neutral-300",children:["Price: ",(0,b.jsx)("span",{className:"font-mono text-white",children:W(D)})," USDC"]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/60 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Mint"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("label",{className:"text-sm text-neutral-300",children:"Quantity"}),(0,b.jsx)("input",{type:"number",min:1,max:z.MAX_QTY_UI,value:m,onChange:a=>n(Math.min(z.MAX_QTY_UI,Math.max(1,Number(a.target.value||1)))),className:"w-20 bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 outline-none"}),(0,b.jsxs)("div",{className:"ml-auto text-sm text-neutral-400",children:["Cost: ",(0,b.jsx)("span",{className:"text-white font-mono",children:W(L)})," USDC"]})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,b.jsx)("button",{onClick:U,disabled:Y,className:`px-4 py-2 rounded-lg border ${Y?"opacity-50 cursor-not-allowed":"hover:opacity-90"} border-cyan-300/30 bg-cyan-300/20`,children:R?"Pending…":"Approve USDC"}),(0,b.jsx)("button",{onClick:V,disabled:X,className:`px-4 py-2 rounded-lg border ${X?"opacity-50 cursor-not-allowed":"hover:opacity-90"} border-emerald-300/30 bg-emerald-300/20`,children:S?"Confirming…":"Mint"})]}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)("button",{onClick:()=>{let a="https://clara-ralph-campbell-penalties.trycloudflare.com",b=`Mint your Raccoon on Base — 0.1 USDC. Max 5/wallet. Live now: ${a}`,c=new URL("https://warpcast.com/~/compose");c.searchParams.set("text",b),c.searchParams.append("embeds[]",a),window.open(c.toString(),"_blank")},className:"w-full rounded-lg border border-cyan-300/30 bg-cyan-300/20 px-4 py-2 text-sm hover:opacity-90",children:"Share on Warpcast"})})]})]})]})}function B({percent:a,label:c}){let d=2*Math.PI*51,e=a/100*d;return(0,b.jsxs)("div",{className:"relative",style:{width:112,height:112},children:[(0,b.jsxs)("svg",{width:112,height:112,viewBox:"0 0 112 112",children:[(0,b.jsx)("circle",{cx:56,cy:56,r:51,stroke:"currentColor",strokeWidth:10,className:"text-neutral-800",fill:"none"}),(0,b.jsx)("circle",{cx:56,cy:56,r:51,stroke:"currentColor",strokeWidth:10,className:"text-cyan-300",fill:"none",strokeDasharray:`${e} ${d-e}`,strokeLinecap:"round",transform:"rotate(-90 56 56)"})]}),(0,b.jsx)("div",{className:"absolute inset-0 grid place-items-center text-sm font-medium",children:c})]})}a.s(["default",()=>A],622143)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ae24295d._.js.map