(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,604650,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=l(e),r=t[0],i=t[1];return(r+i)*3/4-i},r.toByteArray=function(e){var t,r,i=l(e),a=i[0],o=i[1],u=new s((a+o)*3/4-o),c=0,d=o>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,s=[],a=0,o=r-n;a<o;a+=16383)s.push(function(e,t,r){for(var n,s=[],a=t;a<r;a+=3)n=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===n?s.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&s.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)i[o]=a[o],n[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}n[45]=62,n[95]=63},52101,(e,t,r)=>{r.read=function(e,t,r,i,n){var s,a,o=8*n-i-1,u=(1<<o)-1,l=u>>1,c=-7,d=r?n-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+e[t+d],d+=h,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===s)s=1-l;else{if(s===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),s-=l}return(f?-1:1)*a*Math.pow(2,s-i)},r.write=function(e,t,r,i,n,s){var a,o,u,l=8*s-n-1,c=(1<<l)-1,d=c>>1,h=5960464477539062e-23*(23===n),f=i?0:s-1,p=i?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=h/u:t+=h*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(o=0,a=c):a+d>=1?(o=(t*u-1)*Math.pow(2,n),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,n),a=0));n>=8;e[r+f]=255&o,f+=p,o/=256,n-=8);for(a=a<<n|o,l+=n;l>0;e[r+f]=255&a,f+=p,a/=256,l-=8);e[r+f-p]|=128*m}},515792,(e,t,r)=>{"use strict";let i=e.r(604650),n=e.r(52101),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var i=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);let r=0|p(i,n),s=a(r),u=s.write(i,n);return u!==r&&(s=s.slice(0,u)),s}if(ArrayBuffer.isView(e)){var s=e;if(C(s,Uint8Array)){let e=new Uint8Array(s);return h(e.buffer,e.byteOffset,e.byteLength)}return d(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return o.from(u,t,r);let l=function(e){if(o.isBuffer(e)){let t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=a(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function h(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),i}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(n)return i?-1:U(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=N[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}(this,t,r);case"latin1":case"binary":return function(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}(this,t,r);case"base64":var s,a,o;return s=this,a=t,o=r,0===a&&o===s.length?i.fromByteArray(s):i.fromByteArray(s.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let i=e.slice(t,r),n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function y(e,t,r,i,n){var s;if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,i,n){let s,a=1,o=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,o/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){let i=-1;for(s=r;s<o;s++)if(l(e,s)===l(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===u)return i*a}else -1!==i&&(s-=s-i),i=-1}else for(r+u>o&&(r=o-u),s=r;s>=0;s--){let r=!0;for(let i=0;i<u;i++)if(l(e,s+i)!==l(t,i)){r=!1;break}if(r)return s}return -1}function v(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],s=null,a=t>239?4:t>223?3:t>191?2:1;if(n+a<=r){let r,i,o,u;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[n+1]))==128&&(u=(31&t)<<6|63&r)>127&&(s=u);break;case 3:r=e[n+1],i=e[n+2],(192&r)==128&&(192&i)==128&&(u=(15&t)<<12|(63&r)<<6|63&i)>2047&&(u<55296||u>57343)&&(s=u);break;case 4:r=e[n+1],i=e[n+2],o=e[n+3],(192&r)==128&&(192&i)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&o)>65535&&u<1114112&&(s=u)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=a}var s=i;let a=s.length;if(a<=4096)return String.fromCharCode.apply(String,s);let o="",u=0;for(;u<a;)o+=String.fromCharCode.apply(String,s.slice(u,u+=4096));return o}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function x(e,t,r,i,n,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function k(e,t,r,i,n){T(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function _(e,t,r,i,n){T(t,i,n,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function S(e,t,r,i,n,s){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,i,s){return t*=1,r>>>=0,s||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function A(e,t,r,i,s){return t*=1,r>>>=0,s||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}r.Buffer=o,r.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(C(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let i=o.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(C(t,Uint8Array))n+t.length>i.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else if(o.isBuffer(t))t.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=t.length}return i},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,i,n){if(C(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let s=n-i,a=r-t,u=Math.min(s,a),l=this.slice(i,n),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){s=l[e],a=c[e];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,i){var n,s,a,o,u,l,c,d;if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let f=!1;for(;;)switch(i){case"hex":return function(e,t,r,i){let n;r=Number(r)||0;let s=e.length-r;i?(i=Number(i))>s&&(i=s):i=s;let a=t.length;for(i>a/2&&(i=a/2),n=0;n<i;++n){var o;let i=parseInt(t.substr(2*n,2),16);if((o=i)!=o)break;e[r+n]=i}return n}(this,e,t,r);case"utf8":case"utf-8":return n=t,s=r,j(U(e,this.length-n),this,n,s);case"ascii":case"latin1":case"binary":return a=t,o=r,j(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,o);case"base64":return u=t,l=r,j(L(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,j(function(e,t){let r,i,n=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=(r=e.charCodeAt(s))>>8,n.push(r%256),n.push(i);return n}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,o.prototype),i},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=z(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],n=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(i)+(BigInt(n)<<BigInt(32))}),o.prototype.readBigUInt64BE=z(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let i=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],n=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=z(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=z(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;x(this,e,t,r,i,0)}let n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;x(this,e,t,r,i,0)}let n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=z(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=z(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=0,s=1,a=0;for(this[t]=255&e;++n<r&&(s*=256);)e<0&&0===a&&0!==this[t+n-1]&&(a=1),this[t+n]=(e/s|0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=r-1,s=1,a=0;for(this[t+n]=255&e;--n>=0&&(s*=256);)e<0&&0===a&&0!==this[t+n+1]&&(a=1),this[t+n]=(e/s|0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=z(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=z(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,i){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},o.prototype.fill=function(e,t,r,i){let n;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let s=o.isBuffer(e)?e:o.from(e,i),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%a]}return this};let M={};function I(e,t,r){M[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",r=e.length,i=+("-"===e[0]);for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function T(e,t,r,i,n,s){if(e>r||e<t){let i,n="bigint"==typeof t?"n":"";throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and < 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",i,e)}O(n,"offset"),(void 0===i[n]||void 0===i[n+s])&&P(n,i.length-(s+1))}function O(e,t){if("number"!=typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw O(e,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),I("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?n=B(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=B(n)),n+="n"),i+=` It must be ${t}. Received ${n}`},RangeError);let R=/[^+/0-9A-Za-z-_]/g;function U(e,t){let r;t=t||1/0;let i=e.length,n=null,s=[];for(let a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319||a+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function L(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let N=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function z(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw Error("BigInt not supported")}},464667,(e,t,r)=>{!function(e,t){"use strict";function r(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function n(e,t,r){if(n.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}e.exports=n,n.BN=n,n.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:void 0}catch(e){}function s(e,t){var i=e.charCodeAt(t);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+e)}function a(e,t,r){var i=s(e,r);return r-1>=t&&(i|=s(e,r-1)<<4),i}function o(e,t,i,n){for(var s=0,a=0,o=Math.min(e.length,i),u=t;u<o;u++){var l=e.charCodeAt(u)-48;s*=n,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<n,"Invalid character"),s+=a}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(n.isBN=function(e){return e instanceof n||null!==e&&"object"==typeof e&&e.constructor.wordSize===n.wordSize&&Array.isArray(e.words)},n.max=function(e,t){return e.cmp(t)>0?e:t},n.min=function(e,t){return 0>e.cmp(t)?e:t},n.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,i):(this._parseBase(e,t,n),"le"===i&&this._initArray(this.toArray(),t,i)))},n.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(r(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},n.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,s,a=0;a<this.length;a++)this.words[a]=0;var o=0;if("be"===i)for(a=e.length-1,n=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[n]|=s<<o&0x3ffffff,this.words[n+1]=s>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,n++);else if("le"===i)for(a=0,n=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[n]|=s<<o&0x3ffffff,this.words[n+1]=s>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,n++);return this._strip()},n.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var i,n=0;n<this.length;n++)this.words[n]=0;var s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<s,this.words[o]|=0x3ffffff&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<s,this.words[o]|=0x3ffffff&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},n.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=0x3ffffff;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,a=s%i,u=Math.min(s,s-a)+r,l=0,c=r;c<u;c+=i)l=o(e,c,c+i,t),this.imuln(n),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=o(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l)}this._strip()},n.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},n.prototype._move=function(e){u(e,this)},n.prototype.clone=function(){var e=new n(null);return this.copy(e),e},n.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c,d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function p(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],a=n*s,o=0x3ffffff&a,u=a/0x4000000|0;r.words[0]=o;for(var l=1;l<i;l++){for(var c=u>>>26,d=0x3ffffff&u,h=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=h;f++){var p=l-f|0;c+=(a=(n=0|e.words[p])*(s=0|t.words[f])+d)/0x4000000|0,d=0x3ffffff&a}r.words[l]=0|d,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}n.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var i="",n=0,s=0,a=0;a<this.length;a++){var o=this.words[a],u=((o<<n|s)&0xffffff).toString(16);s=o>>>24-n&0xffffff,(n+=2)>=26&&(n-=26,a--),i=0!==s||a!==this.length-1?d[6-u.length]+u+i:u+i}for(0!==s&&(i=s.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],c=f[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(c).toString(e);i=(p=p.idivn(c)).isZero()?m+i:d[l-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},n.prototype.toJSON=function(){return this.toString(16,2)},c&&(n.prototype.toBuffer=function(e,t){return this.toArrayLike(c,e,t)}),n.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},n.prototype.toArrayLike=function(e,t,i){this._strip();var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var a=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,n),a},n.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var a=this.words[n]<<s|i;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===s?(r<e.length&&(e[r++]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},n.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,s=0;n<this.length;n++){var a=this.words[n]<<s|i;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===s?(r>=0&&(e[r--]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?n.prototype._countBits=function(e){return 32-Math.clz32(e)}:n.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},n.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},n.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},n.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},n.prototype.ior=function(e){return r((this.negative|e.negative)==0),this.iuor(e)},n.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},n.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},n.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},n.prototype.iand=function(e){return r((this.negative|e.negative)==0),this.iuand(e)},n.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},n.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},n.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},n.prototype.ixor=function(e){return r((this.negative|e.negative)==0),this.iuxor(e)},n.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},n.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},n.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=0x3ffffff&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-i),this._strip()},n.prototype.notn=function(e){return this.clone().inotn(e)},n.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),t?this.words[i]=this.words[i]|1<<n:this.words[i]=this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=0x3ffffff&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=0x3ffffff&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},n.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},n.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var s=0,a=0;a<r.length;a++)s=(i=(0|t.words[a])-(0|r.words[a])+s)>>26,this.words[a]=0x3ffffff&i;for(;0!==s&&a<t.length;a++)s=(i=(0|t.words[a])+s)>>26,this.words[a]=0x3ffffff&i;if(0===s&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var i,n,s,a=e.words,o=t.words,u=r.words,l=0,c=0|a[0],d=8191&c,h=c>>>13,f=0|a[1],p=8191&f,m=f>>>13,g=0|a[2],y=8191&g,b=g>>>13,v=0|a[3],w=8191&v,x=v>>>13,k=0|a[4],_=8191&k,S=k>>>13,E=0|a[5],A=8191&E,M=E>>>13,I=0|a[6],B=8191&I,T=I>>>13,O=0|a[7],P=8191&O,R=O>>>13,U=0|a[8],L=8191&U,j=U>>>13,C=0|a[9],N=8191&C,z=C>>>13,Z=0|o[0],W=8191&Z,$=Z>>>13,D=0|o[1],F=8191&D,K=D>>>13,q=0|o[2],V=8191&q,J=q>>>13,H=0|o[3],G=8191&H,Y=H>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,et=0|o[5],er=8191&et,ei=et>>>13,en=0|o[6],es=8191&en,ea=en>>>13,eo=0|o[7],eu=8191&eo,el=eo>>>13,ec=0|o[8],ed=8191&ec,eh=ec>>>13,ef=0|o[9],ep=8191&ef,em=ef>>>13;r.negative=e.negative^t.negative,r.length=19,i=Math.imul(d,W);var eg=(l+i|0)+((8191&(n=(n=Math.imul(d,$))+Math.imul(h,W)|0))<<13)|0;l=((s=Math.imul(h,$))+(n>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,i=Math.imul(p,W),n=(n=Math.imul(p,$))+Math.imul(m,W)|0,s=Math.imul(m,$),i=i+Math.imul(d,F)|0;var ey=(l+i|0)+((8191&(n=(n=n+Math.imul(d,K)|0)+Math.imul(h,F)|0))<<13)|0;l=((s=s+Math.imul(h,K)|0)+(n>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,i=Math.imul(y,W),n=(n=Math.imul(y,$))+Math.imul(b,W)|0,s=Math.imul(b,$),i=i+Math.imul(p,F)|0,n=(n=n+Math.imul(p,K)|0)+Math.imul(m,F)|0,s=s+Math.imul(m,K)|0,i=i+Math.imul(d,V)|0;var eb=(l+i|0)+((8191&(n=(n=n+Math.imul(d,J)|0)+Math.imul(h,V)|0))<<13)|0;l=((s=s+Math.imul(h,J)|0)+(n>>>13)|0)+(eb>>>26)|0,eb&=0x3ffffff,i=Math.imul(w,W),n=(n=Math.imul(w,$))+Math.imul(x,W)|0,s=Math.imul(x,$),i=i+Math.imul(y,F)|0,n=(n=n+Math.imul(y,K)|0)+Math.imul(b,F)|0,s=s+Math.imul(b,K)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,J)|0,i=i+Math.imul(d,G)|0;var ev=(l+i|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(h,G)|0))<<13)|0;l=((s=s+Math.imul(h,Y)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,i=Math.imul(_,W),n=(n=Math.imul(_,$))+Math.imul(S,W)|0,s=Math.imul(S,$),i=i+Math.imul(w,F)|0,n=(n=n+Math.imul(w,K)|0)+Math.imul(x,F)|0,s=s+Math.imul(x,K)|0,i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Y)|0,i=i+Math.imul(d,Q)|0;var ew=(l+i|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((s=s+Math.imul(h,ee)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,i=Math.imul(A,W),n=(n=Math.imul(A,$))+Math.imul(M,W)|0,s=Math.imul(M,$),i=i+Math.imul(_,F)|0,n=(n=n+Math.imul(_,K)|0)+Math.imul(S,F)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,Y)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0,i=i+Math.imul(d,er)|0;var ex=(l+i|0)+((8191&(n=(n=n+Math.imul(d,ei)|0)+Math.imul(h,er)|0))<<13)|0;l=((s=s+Math.imul(h,ei)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,i=Math.imul(B,W),n=(n=Math.imul(B,$))+Math.imul(T,W)|0,s=Math.imul(T,$),i=i+Math.imul(A,F)|0,n=(n=n+Math.imul(A,K)|0)+Math.imul(M,F)|0,s=s+Math.imul(M,K)|0,i=i+Math.imul(_,V)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(m,er)|0,s=s+Math.imul(m,ei)|0,i=i+Math.imul(d,es)|0;var ek=(l+i|0)+((8191&(n=(n=n+Math.imul(d,ea)|0)+Math.imul(h,es)|0))<<13)|0;l=((s=s+Math.imul(h,ea)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,i=Math.imul(P,W),n=(n=Math.imul(P,$))+Math.imul(R,W)|0,s=Math.imul(R,$),i=i+Math.imul(B,F)|0,n=(n=n+Math.imul(B,K)|0)+Math.imul(T,F)|0,s=s+Math.imul(T,K)|0,i=i+Math.imul(A,V)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,J)|0,i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Y)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,ee)|0,i=i+Math.imul(y,er)|0,n=(n=n+Math.imul(y,ei)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,ei)|0,i=i+Math.imul(p,es)|0,n=(n=n+Math.imul(p,ea)|0)+Math.imul(m,es)|0,s=s+Math.imul(m,ea)|0,i=i+Math.imul(d,eu)|0;var e_=(l+i|0)+((8191&(n=(n=n+Math.imul(d,el)|0)+Math.imul(h,eu)|0))<<13)|0;l=((s=s+Math.imul(h,el)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,i=Math.imul(L,W),n=(n=Math.imul(L,$))+Math.imul(j,W)|0,s=Math.imul(j,$),i=i+Math.imul(P,F)|0,n=(n=n+Math.imul(P,K)|0)+Math.imul(R,F)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(B,V)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,J)|0,i=i+Math.imul(A,G)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,Y)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(w,er)|0,n=(n=n+Math.imul(w,ei)|0)+Math.imul(x,er)|0,s=s+Math.imul(x,ei)|0,i=i+Math.imul(y,es)|0,n=(n=n+Math.imul(y,ea)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,ea)|0,i=i+Math.imul(p,eu)|0,n=(n=n+Math.imul(p,el)|0)+Math.imul(m,eu)|0,s=s+Math.imul(m,el)|0,i=i+Math.imul(d,ed)|0;var eS=(l+i|0)+((8191&(n=(n=n+Math.imul(d,eh)|0)+Math.imul(h,ed)|0))<<13)|0;l=((s=s+Math.imul(h,eh)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,i=Math.imul(N,W),n=(n=Math.imul(N,$))+Math.imul(z,W)|0,s=Math.imul(z,$),i=i+Math.imul(L,F)|0,n=(n=n+Math.imul(L,K)|0)+Math.imul(j,F)|0,s=s+Math.imul(j,K)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,i=i+Math.imul(B,G)|0,n=(n=n+Math.imul(B,Y)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,Y)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(_,er)|0,n=(n=n+Math.imul(_,ei)|0)+Math.imul(S,er)|0,s=s+Math.imul(S,ei)|0,i=i+Math.imul(w,es)|0,n=(n=n+Math.imul(w,ea)|0)+Math.imul(x,es)|0,s=s+Math.imul(x,ea)|0,i=i+Math.imul(y,eu)|0,n=(n=n+Math.imul(y,el)|0)+Math.imul(b,eu)|0,s=s+Math.imul(b,el)|0,i=i+Math.imul(p,ed)|0,n=(n=n+Math.imul(p,eh)|0)+Math.imul(m,ed)|0,s=s+Math.imul(m,eh)|0,i=i+Math.imul(d,ep)|0;var eE=(l+i|0)+((8191&(n=(n=n+Math.imul(d,em)|0)+Math.imul(h,ep)|0))<<13)|0;l=((s=s+Math.imul(h,em)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,i=Math.imul(N,F),n=(n=Math.imul(N,K))+Math.imul(z,F)|0,s=Math.imul(z,K),i=i+Math.imul(L,V)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(j,V)|0,s=s+Math.imul(j,J)|0,i=i+Math.imul(P,G)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,Y)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,i=i+Math.imul(A,er)|0,n=(n=n+Math.imul(A,ei)|0)+Math.imul(M,er)|0,s=s+Math.imul(M,ei)|0,i=i+Math.imul(_,es)|0,n=(n=n+Math.imul(_,ea)|0)+Math.imul(S,es)|0,s=s+Math.imul(S,ea)|0,i=i+Math.imul(w,eu)|0,n=(n=n+Math.imul(w,el)|0)+Math.imul(x,eu)|0,s=s+Math.imul(x,el)|0,i=i+Math.imul(y,ed)|0,n=(n=n+Math.imul(y,eh)|0)+Math.imul(b,ed)|0,s=s+Math.imul(b,eh)|0,i=i+Math.imul(p,ep)|0;var eA=(l+i|0)+((8191&(n=(n=n+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;l=((s=s+Math.imul(m,em)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,i=Math.imul(N,V),n=(n=Math.imul(N,J))+Math.imul(z,V)|0,s=Math.imul(z,J),i=i+Math.imul(L,G)|0,n=(n=n+Math.imul(L,Y)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,Y)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,ee)|0,i=i+Math.imul(B,er)|0,n=(n=n+Math.imul(B,ei)|0)+Math.imul(T,er)|0,s=s+Math.imul(T,ei)|0,i=i+Math.imul(A,es)|0,n=(n=n+Math.imul(A,ea)|0)+Math.imul(M,es)|0,s=s+Math.imul(M,ea)|0,i=i+Math.imul(_,eu)|0,n=(n=n+Math.imul(_,el)|0)+Math.imul(S,eu)|0,s=s+Math.imul(S,el)|0,i=i+Math.imul(w,ed)|0,n=(n=n+Math.imul(w,eh)|0)+Math.imul(x,ed)|0,s=s+Math.imul(x,eh)|0,i=i+Math.imul(y,ep)|0;var eM=(l+i|0)+((8191&(n=(n=n+Math.imul(y,em)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,em)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,i=Math.imul(N,G),n=(n=Math.imul(N,Y))+Math.imul(z,G)|0,s=Math.imul(z,Y),i=i+Math.imul(L,Q)|0,n=(n=n+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,ee)|0,i=i+Math.imul(P,er)|0,n=(n=n+Math.imul(P,ei)|0)+Math.imul(R,er)|0,s=s+Math.imul(R,ei)|0,i=i+Math.imul(B,es)|0,n=(n=n+Math.imul(B,ea)|0)+Math.imul(T,es)|0,s=s+Math.imul(T,ea)|0,i=i+Math.imul(A,eu)|0,n=(n=n+Math.imul(A,el)|0)+Math.imul(M,eu)|0,s=s+Math.imul(M,el)|0,i=i+Math.imul(_,ed)|0,n=(n=n+Math.imul(_,eh)|0)+Math.imul(S,ed)|0,s=s+Math.imul(S,eh)|0,i=i+Math.imul(w,ep)|0;var eI=(l+i|0)+((8191&(n=(n=n+Math.imul(w,em)|0)+Math.imul(x,ep)|0))<<13)|0;l=((s=s+Math.imul(x,em)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,i=Math.imul(N,Q),n=(n=Math.imul(N,ee))+Math.imul(z,Q)|0,s=Math.imul(z,ee),i=i+Math.imul(L,er)|0,n=(n=n+Math.imul(L,ei)|0)+Math.imul(j,er)|0,s=s+Math.imul(j,ei)|0,i=i+Math.imul(P,es)|0,n=(n=n+Math.imul(P,ea)|0)+Math.imul(R,es)|0,s=s+Math.imul(R,ea)|0,i=i+Math.imul(B,eu)|0,n=(n=n+Math.imul(B,el)|0)+Math.imul(T,eu)|0,s=s+Math.imul(T,el)|0,i=i+Math.imul(A,ed)|0,n=(n=n+Math.imul(A,eh)|0)+Math.imul(M,ed)|0,s=s+Math.imul(M,eh)|0,i=i+Math.imul(_,ep)|0;var eB=(l+i|0)+((8191&(n=(n=n+Math.imul(_,em)|0)+Math.imul(S,ep)|0))<<13)|0;l=((s=s+Math.imul(S,em)|0)+(n>>>13)|0)+(eB>>>26)|0,eB&=0x3ffffff,i=Math.imul(N,er),n=(n=Math.imul(N,ei))+Math.imul(z,er)|0,s=Math.imul(z,ei),i=i+Math.imul(L,es)|0,n=(n=n+Math.imul(L,ea)|0)+Math.imul(j,es)|0,s=s+Math.imul(j,ea)|0,i=i+Math.imul(P,eu)|0,n=(n=n+Math.imul(P,el)|0)+Math.imul(R,eu)|0,s=s+Math.imul(R,el)|0,i=i+Math.imul(B,ed)|0,n=(n=n+Math.imul(B,eh)|0)+Math.imul(T,ed)|0,s=s+Math.imul(T,eh)|0,i=i+Math.imul(A,ep)|0;var eT=(l+i|0)+((8191&(n=(n=n+Math.imul(A,em)|0)+Math.imul(M,ep)|0))<<13)|0;l=((s=s+Math.imul(M,em)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,i=Math.imul(N,es),n=(n=Math.imul(N,ea))+Math.imul(z,es)|0,s=Math.imul(z,ea),i=i+Math.imul(L,eu)|0,n=(n=n+Math.imul(L,el)|0)+Math.imul(j,eu)|0,s=s+Math.imul(j,el)|0,i=i+Math.imul(P,ed)|0,n=(n=n+Math.imul(P,eh)|0)+Math.imul(R,ed)|0,s=s+Math.imul(R,eh)|0,i=i+Math.imul(B,ep)|0;var eO=(l+i|0)+((8191&(n=(n=n+Math.imul(B,em)|0)+Math.imul(T,ep)|0))<<13)|0;l=((s=s+Math.imul(T,em)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,i=Math.imul(N,eu),n=(n=Math.imul(N,el))+Math.imul(z,eu)|0,s=Math.imul(z,el),i=i+Math.imul(L,ed)|0,n=(n=n+Math.imul(L,eh)|0)+Math.imul(j,ed)|0,s=s+Math.imul(j,eh)|0,i=i+Math.imul(P,ep)|0;var eP=(l+i|0)+((8191&(n=(n=n+Math.imul(P,em)|0)+Math.imul(R,ep)|0))<<13)|0;l=((s=s+Math.imul(R,em)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,i=Math.imul(N,ed),n=(n=Math.imul(N,eh))+Math.imul(z,ed)|0,s=Math.imul(z,eh),i=i+Math.imul(L,ep)|0;var eR=(l+i|0)+((8191&(n=(n=n+Math.imul(L,em)|0)+Math.imul(j,ep)|0))<<13)|0;l=((s=s+Math.imul(j,em)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,i=Math.imul(N,ep);var eU=(l+i|0)+((8191&(n=(n=Math.imul(N,em))+Math.imul(z,ep)|0))<<13)|0;return l=((s=Math.imul(z,em))+(n>>>13)|0)+(eU>>>26)|0,eU&=0x3ffffff,u[0]=eg,u[1]=ey,u[2]=eb,u[3]=ev,u[4]=ew,u[5]=ex,u[6]=ek,u[7]=e_,u[8]=eS,u[9]=eE,u[10]=eA,u[11]=eM,u[12]=eI,u[13]=eB,u[14]=eT,u[15]=eO,u[16]=eP,u[17]=eR,u[18]=eU,0!==l&&(u[19]=l,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var a=n;n=0;for(var o=0x3ffffff&i,u=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=u;l++){var c=s-l,d=(0|e.words[c])*(0|t.words[l]),h=0x3ffffff&d;a=a+(d/0x4000000|0)|0,o=0x3ffffff&(h=h+o|0),n+=(a=a+(h>>>26)|0)>>>26,a&=0x3ffffff}r.words[s]=o,i=a,a=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function y(e,t){this.x=e,this.y=t}Math.imul||(m=p),n.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return 10===this.length&&10===e.length?r=m(this,e,t):i<63?r=p(this,e,t):r=g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=Array(e),r=n.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},y.prototype.permute=function(e,t,r,i,n,s){for(var a=0;a<s;a++)i[a]=t[e[a]],n[a]=r[e[a]]},y.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var a=1;a<n;a<<=1)for(var o=a<<1,u=Math.cos(2*Math.PI/o),l=Math.sin(2*Math.PI/o),c=0;c<n;c+=o)for(var d=u,h=l,f=0;f<a;f++){var p=r[c+f],m=i[c+f],g=r[c+f+a],y=i[c+f+a],b=d*g-h*y;y=d*y+h*g,g=b,r[c+f]=p+g,i[c+f]=m+y,r[c+f+a]=p-g,i[c+f+a]=m-y,f!==o&&(b=u*d-l*h,h=u*h+l*d,d=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},y.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=0x3ffffff&n,r=n<0x4000000?0:n/0x4000000|0}return e},y.prototype.convert13b=function(e,t,i,n){for(var s=0,a=0;a<t;a++)s+=0|e[a],i[2*a]=8191&s,s>>>=13,i[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===s),r((-8192&s)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),a=Array(i),o=Array(i),u=Array(i),l=Array(i),c=Array(i),d=Array(i),h=r.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,l,i),this.transform(a,s,o,u,i,n),this.transform(l,s,c,d,i,n);for(var f=0;f<i;f++){var p=o[f]*c[f]-u[f]*d[f];u[f]=o[f]*d[f]+u[f]*c[f],o[f]=p}return this.conjugate(o,u,i),this.transform(o,u,h,s,i,n),this.conjugate(h,s,i),this.normalize13b(h,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},n.prototype.mul=function(e){var t=new n(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},n.prototype.mulf=function(e){var t=new n(null);return t.words=Array(this.length+e.length),g(this,e,t)},n.prototype.imul=function(e){return this.clone().mulTo(e,this)},n.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<0x4000000);for(var i=0,n=0;n<this.length;n++){var s=(0|this.words[n])*e,a=(0x3ffffff&s)+(0x3ffffff&i);i>>=26,i+=(s/0x4000000|0)+(a>>>26),this.words[n]=0x3ffffff&a}return 0!==i&&(this.words[n]=i,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},n.prototype.muln=function(e){return this.clone().imuln(e)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new n(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var s=r.sqr();i<t.length;i++,s=s.sqr())0!==t[i]&&(r=r.mul(s));return r},n.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,s=0x3ffffff>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,u=(0|this.words[t])-o<<i;this.words[t]=u|a,a=o>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},n.prototype.iushrn=function(e,t,i){r("number"==typeof e&&e>=0);var n=t?(t-t%26)/26:0,s=e%26,a=Math.min((e-s)/26,this.length),o=0x3ffffff^0x3ffffff>>>s<<s;if(n-=a,n=Math.max(0,n),i){for(var u=0;u<a;u++)i.words[u]=this.words[u];i.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&o}return i&&0!==l&&(i.words[i.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},n.prototype.shln=function(e){return this.clone().ishln(e)},n.prototype.ushln=function(e){return this.clone().iushln(e)},n.prototype.shrn=function(e){return this.clone().ishrn(e)},n.prototype.ushrn=function(e){return this.clone().iushrn(e)},n.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;return!(this.length<=i)&&!!(this.words[i]&1<<t)},n.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)?this:(0!==t&&i++,this.length=Math.min(i,this.length),0!==t&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>t<<t),this._strip())},n.prototype.maskn=function(e){return this.clone().imaskn(e)},n.prototype.iaddn=function(e){return(r("number"==typeof e),r(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},n.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},n.prototype.isubn=function(e){if(r("number"==typeof e),r(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},n.prototype.addn=function(e){return this.clone().iaddn(e)},n.prototype.subn=function(e){return this.clone().isubn(e)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(e,t,i){var n,s,a=e.length+i;this._expand(a);var o=0;for(n=0;n<e.length;n++){s=(0|this.words[n+i])+o;var u=(0|e.words[n])*t;s-=0x3ffffff&u,o=(s>>26)-(u/0x4000000|0),this.words[n+i]=0x3ffffff&s}for(;n<this.length-i;n++)o=(s=(0|this.words[n+i])+o)>>26,this.words[n+i]=0x3ffffff&s;if(0===o)return this._strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(s=-(0|this.words[n])+o)>>26,this.words[n]=0x3ffffff&s;return this.negative=1,this._strip()},n.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,s=this.clone(),a=e,o=0|a.words[a.length-1];0!=(i=26-this._countBits(o))&&(a=a.ushln(i),s.iushln(i),o=0|a.words[a.length-1]);var u=s.length-a.length;if("mod"!==t){(r=new n(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=s.clone()._ishlnsubmul(a,1,u);0===c.negative&&(s=c,r&&(r.words[u]=1));for(var d=u-1;d>=0;d--){var h=(0|s.words[a.length+d])*0x4000000+(0|s.words[a.length+d-1]);for(h=Math.min(h/o|0,0x3ffffff),s._ishlnsubmul(a,h,d);0!==s.negative;)h--,s.negative=0,s._ishlnsubmul(a,1,d),s.isZero()||(s.negative^=1);r&&(r.words[d]=h)}return r&&r._strip(),s._strip(),"div"!==t&&0!==i&&s.iushrn(i),{div:r||null,mod:s}},n.prototype.divmod=function(e,t,i){var s,a,o;return(r(!e.isZero()),this.isZero())?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):(this.negative&e.negative)!=0?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new n(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new n(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new n(this.modrn(e.words[0]))}:this._wordDiv(e,t)},n.prototype.div=function(e){return this.divmod(e,"div",!1).div},n.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},n.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},n.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},n.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var i=0x4000000%e,n=0,s=this.length-1;s>=0;s--)n=(i*n+(0|this.words[s]))%e;return t?-n:n},n.prototype.modn=function(e){return this.modrn(e)},n.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=0x3ffffff);for(var i=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+0x4000000*i;this.words[n]=s/e|0,i=s%e}return this._strip(),t?this.ineg():this},n.prototype.divn=function(e){return this.clone().idivn(e)},n.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new n(1),a=new n(0),o=new n(0),u=new n(1),l=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++l;for(var c=i.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;(t.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(c),a.isub(d)),s.iushrn(1),a.iushrn(1);for(var p=0,m=1;(i.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(c),u.isub(d)),o.iushrn(1),u.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),a.isub(u)):(i.isub(t),o.isub(s),u.isub(a))}return{a:o,b:u,gcd:i.iushln(l)}},n.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,i=this,s=e.clone();i=0!==i.negative?i.umod(e):i.clone();for(var a=new n(1),o=new n(0),u=s.clone();i.cmpn(1)>0&&s.cmpn(1)>0;){for(var l=0,c=1;(i.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(i.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,h=1;(s.words[0]&h)==0&&d<26;++d,h<<=1);if(d>0)for(s.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);i.cmp(s)>=0?(i.isub(s),a.isub(o)):(s.isub(i),o.isub(a))}return 0>(t=0===i.cmpn(1)?a:o).cmpn(0)&&t.iadd(e),t},n.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},n.prototype.invm=function(e){return this.egcd(e).a.umod(e)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(e){return this.words[0]&e},n.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,a=i;0!==s&&a<this.length;a++){var o=0|this.words[a];o+=s,s=o>>>26,o&=0x3ffffff,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return -1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=0x3ffffff,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},n.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},n.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},n.prototype.gtn=function(e){return 1===this.cmpn(e)},n.prototype.gt=function(e){return 1===this.cmp(e)},n.prototype.gten=function(e){return this.cmpn(e)>=0},n.prototype.gte=function(e){return this.cmp(e)>=0},n.prototype.ltn=function(e){return -1===this.cmpn(e)},n.prototype.lt=function(e){return -1===this.cmp(e)},n.prototype.lten=function(e){return 0>=this.cmpn(e)},n.prototype.lte=function(e){return 0>=this.cmp(e)},n.prototype.eqn=function(e){return 0===this.cmpn(e)},n.prototype.eq=function(e){return 0===this.cmp(e)},n.red=function(e){return new S(e)},n.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(e){return this.red=e,this},n.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},n.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},n.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},n.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},n.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},n.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},n.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},n.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new n(t,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=n._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new n(null);return e.words=Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(w,v),w.prototype.split=function(e,t){for(var r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var n=e.words[9];for(i=10,t.words[t.length++]=4194303&n;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(4194303&s)<<4|n>>>22,n=s}n>>>=22,e.words[i-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=0x3ffffff&t,t=64*i+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,v),i(k,v),i(_,v),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=0x3ffffff&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},n._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new w;else if("p224"===e)t=new x;else if("p192"===e)t=new k;else if("p25519"===e)t=new _;else throw Error("Unknown prime "+e);return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r((e.negative|t.negative)==0,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new n(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),a=0;!s.isZero()&&0===s.andln(1);)a++,s.iushrn(1);r(!s.isZero());var o=new n(1).toRed(this),u=o.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var d=this.pow(c,s),h=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=a;0!==f.cmp(o);){for(var m=f,g=0;0!==m.cmp(o);g++)m=m.redSqr();r(g<p);var y=this.pow(d,new n(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=g}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new n(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new n(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var s=r[0],a=0,o=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],c=u-1;c>=0;c--){var d=l>>c&1;if(s!==r[0]&&(s=this.sqr(s)),0===d&&0===a){o=0;continue}a<<=1,a|=d,(4==++o||0===i&&0===c)&&(s=this.mul(s,r[a]),o=0,a=0)}u=26}return s},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},n.mont=function(e){return new E(e)},i(E,S),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new n(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(i).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):0>s.cmpn(0)&&(a=s.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,e.e)},843434,(e,t,r)=>{var i=e.r(515792),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,r),r.Buffer=a),a.prototype=Object.create(n.prototype),s(n,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},851626,(e,t,r)=>{"use strict";var i=e.r(843434).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),a=s.charCodeAt(0);if(255!==t[a])throw TypeError(s+" is ambiguous");t[a]=n}var o=e.length,u=e.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return i.alloc(0);for(var r=0,n=0,s=0;e[r]===u;)n++,r++;for(var a=(e.length-r)*l+1>>>0,c=new Uint8Array(a);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=a-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=o*c[p]>>>0,c[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,r++}for(var m=a-s;m!==a&&0===c[m];)m++;var g=i.allocUnsafe(n+(a-m));g.fill(0,0,n);for(var y=n;m!==a;)g[y++]=c[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,s=0,a=t.length;s!==a&&0===t[s];)s++,r++;for(var l=(a-s)*c+1>>>0,d=new Uint8Array(l);s!==a;){for(var h=t[s],f=0,p=l-1;(0!==h||f<n)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%o>>>0,h=h/o>>>0;if(0!==h)throw Error("Non-zero carry");n=f,s++}for(var m=l-n;m!==l&&0===d[m];)m++;for(var g=u.repeat(r);m<l;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},492800,(e,t,r)=>{t.exports=e.r(851626)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},506074,(e,t,r)=>{"use strict";function i(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var o="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(e){var t=e.fatal,r=0,n=0,s=0,o=128,u=191;this.handler=function(e,l){if(-1===l&&0!==s)return s=0,a(t);if(-1===l)return -1;if(0===s){if(i(l,0,127))return l;if(i(l,194,223))s=1,r=l-192;else if(i(l,224,239))224===l&&(o=160),237===l&&(u=159),s=2,r=l-224;else{if(!i(l,240,244))return a(t);240===l&&(o=144),244===l&&(u=143),s=3,r=l-240}return r<<=6*s,null}if(!i(l,o,u))return r=s=n=0,o=128,u=191,e.prepend(l),a(t);if(o=128,u=191,n+=1,r+=l-128<<6*(s-n),n!==s)return null;var c=r;return r=s=n=0,c}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(i(t,0,127))return t;i(t,128,2047)?(r=1,n=192):i(t,2048,65535)?(r=2,n=224):i(t,65536,1114111)&&(r=3,n=240);for(var r,n,s=[(t>>6*r)+n];r>0;){var a=t>>6*(r-1);s.push(128|63&a),r-=1}return s}}u.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,i,a=new s(r),o=[];!a.endOfStream()&&-1!==(i=this._decoder.handler(a,a.read()));)null!==i&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));if(!this._streaming){do{if(-1===(i=this._decoder.handler(a,a.read())))break;if(null===i)continue;Array.isArray(i)?o.push.apply(o,i):o.push(i)}while(!a.endOfStream())this._decoder=null}!o.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0);for(var u="",l=0;l<o.length;++l){var d=o[l];d<=65535?u+=String.fromCharCode(d):(d-=65536,u+=String.fromCharCode((d>>10)+55296,(1023&d)+56320))}return u}},l.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=!!t.stream;for(var r,i=[],a=new s(function(e){for(var t=String(e),r=t.length,i=0,n=[];i<r;){var s=t.charCodeAt(i);if(s<55296||s>57343)n.push(s);else if(56320<=s&&s<=57343)n.push(65533);else if(55296<=s&&s<=56319)if(i===r-1)n.push(65533);else{var a=e.charCodeAt(i+1);if(56320<=a&&a<=57343){var o=1023&s,u=1023&a;n.push(65536+(o<<10)+u),i+=1}else n.push(65533)}i+=1}return n}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?i.push.apply(i,r):i.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?i.push.apply(i,r):i.push(r);this._encoder=null}return new Uint8Array(i)}},r.TextEncoder=l,r.TextDecoder=u},408893,(e,t,r)=>{"use strict";var i=e.i(181170),n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__decorate||function(e,t,r,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUnchecked=r.deserialize=r.serialize=r.BinaryReader=r.BinaryWriter=r.BorshError=r.baseDecode=r.baseEncode=void 0;let l=u(e.r(464667)),c=u(e.r(492800)),d=o(e.r(506074)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});r.baseEncode=function(e){return"string"==typeof e&&(e=i.Buffer.from(e,"utf8")),c.default.encode(i.Buffer.from(e))},r.baseDecode=function(e){return i.Buffer.from(c.default.decode(e))};class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}r.BorshError=f;class p{constructor(){this.buf=i.Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=i.Buffer.concat([this.buf,i.Buffer.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(i.Buffer.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(i.Buffer.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(i.Buffer.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(i.Buffer.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=i.Buffer.concat([i.Buffer.from(this.buf.subarray(0,this.length)),e,i.Buffer.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=i.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(i.Buffer.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let i=r.value;r.value=function(...e){try{return i.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new f("Reached the end of buffer when deserializing");throw e}}}r.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new f(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let i=0;i<t;++i)r.push(e());return r}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,i,n){try{if("string"==typeof i)n[`write${y(i)}`](r);else if(i instanceof Array)if("number"==typeof i[0]){if(r.length!==i[0])throw new f(`Expecting byte array of length ${i[0]}, but got ${r.length} bytes`);n.writeFixedArray(r)}else if(2===i.length&&"number"==typeof i[1]){if(r.length!==i[1])throw new f(`Expecting byte array of length ${i[1]}, but got ${r.length} bytes`);for(let t=0;t<i[1];t++)b(e,null,r[t],i[0],n)}else n.writeArray(r,r=>{b(e,t,r,i[0],n)});else if(void 0!==i.kind)switch(i.kind){case"option":null==r?n.writeU8(0):(n.writeU8(1),b(e,t,r,i.type,n));break;case"map":n.writeU32(r.size),r.forEach((r,s)=>{b(e,t,s,i.key,n),b(e,t,r,i.value,n)});break;default:throw new f(`FieldType ${i} unrecognized`)}else v(e,r,n)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function v(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let i=e.get(t.constructor);if(!i)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map(([i,n])=>{b(e,i,t[i],n,r)});else if("enum"===i.kind){let n=t[i.field];for(let s=0;s<i.values.length;++s){let[a,o]=i.values[s];if(a===n){r.writeU8(s),b(e,a,t[a],o,r);break}}}else throw new f(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}function w(e,t,r,i){try{if("string"==typeof r)return i[`read${y(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return i.readFixedArray(r[0]);else{if("number"!=typeof r[1])return i.readArray(()=>w(e,t,r[0],i));let n=[];for(let t=0;t<r[1];t++)n.push(w(e,null,r[0],i));return n}if("option"===r.kind){if(i.readU8())return w(e,t,r.type,i);return}if("map"===r.kind){let n=new Map,s=i.readU32();for(let a=0;a<s;a++){let s=w(e,t,r.key,i),a=w(e,t,r.value,i);n.set(s,a)}return n}return x(e,r,i)}catch(e){throw e instanceof f&&e.addToFieldPath(t),e}}function x(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let i=e.get(t);if(!i)throw new f(`Class ${t.name} is missing in schema`);if("struct"===i.kind){let i={};for(let[n,s]of e.get(t).fields)i[n]=w(e,n,s,r);return new t(i)}if("enum"===i.kind){let n=r.readU8();if(n>=i.values.length)throw new f(`Enum index: ${n} is out of range`);let[s,a]=i.values[n],o=w(e,s,a,r);return new t({[s]:o})}throw new f(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}a([m],g.prototype,"readU8",null),a([m],g.prototype,"readU16",null),a([m],g.prototype,"readU32",null),a([m],g.prototype,"readU64",null),a([m],g.prototype,"readU128",null),a([m],g.prototype,"readU256",null),a([m],g.prototype,"readU512",null),a([m],g.prototype,"readString",null),a([m],g.prototype,"readFixedArray",null),a([m],g.prototype,"readArray",null),r.BinaryReader=g,r.serialize=function(e,t,r=p){let i=new r;return v(e,t,i),i.toArray()},r.deserialize=function(e,t,r,i=g){let n=new i(r),s=x(e,t,n);if(n.offset<r.length)throw new f(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return s},r.deserializeUnchecked=function(e,t,r,i=g){return x(e,t,new i(r))}},650797,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.s16=r.s8=r.nu64be=r.u48be=r.u40be=r.u32be=r.u24be=r.u16be=r.nu64=r.u48=r.u40=r.u32=r.u24=r.u16=r.u8=r.offset=r.greedy=r.Constant=r.UTF8=r.CString=r.Blob=r.Boolean=r.BitField=r.BitStructure=r.VariantLayout=r.Union=r.UnionLayoutDiscriminator=r.UnionDiscriminator=r.Structure=r.Sequence=r.DoubleBE=r.Double=r.FloatBE=r.Float=r.NearInt64BE=r.NearInt64=r.NearUInt64BE=r.NearUInt64=r.IntBE=r.Int=r.UIntBE=r.UInt=r.OffsetLayout=r.GreedyCount=r.ExternalLayout=r.bindConstructorLayout=r.nameWithProperty=r.Layout=r.uint8ArrayToBuffer=r.checkUint8Array=void 0,r.constant=r.utf8=r.cstr=r.blob=r.unionLayoutDiscriminator=r.union=r.seq=r.bits=r.struct=r.f64be=r.f64=r.f32be=r.f32=r.ns64be=r.s48be=r.s40be=r.s32be=r.s24be=r.s16be=r.ns64=r.s48=r.s40=r.s32=r.s24=void 0;let i=e.r(515792);function n(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return n(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}r.checkUint8Array=n,r.uint8ArrayToBuffer=s;class a{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=a,r.nameWithProperty=o,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class u extends a{isCount(){throw Error("ExternalLayout is abstract")}}r.ExternalLayout=u;class l extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){return n(e),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}r.GreedyCount=l;class c extends u{constructor(e,t=0,r){if(!(e instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}r.OffsetLayout=c;class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}r.UInt=d;class h extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}r.UIntBE=h;class f extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeIntLE(e,r,this.span),this.span}}r.Int=f;class p extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeIntBE(e,r,this.span),this.span}}function m(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function g(e,t){return 0x100000000*e+t}r.IntBE=p;class y extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return g(r.readUInt32LE(t+4),i)}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}r.NearUInt64=y;class b extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}r.NearUInt64BE=b;class v extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return g(r.readInt32LE(t+4),i)}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}r.NearInt64=v;class w extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}r.NearInt64BE=w;class x extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatLE(t)}encode(e,t,r=0){return s(t).writeFloatLE(e,r),4}}r.Float=x;class k extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatBE(t)}encode(e,t,r=0){return s(t).writeFloatBE(e,r),4}}r.FloatBE=k;class _ extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleLE(t)}encode(e,t,r=0){return s(t).writeDoubleLE(e,r),8}}r.Double=_;class S extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleBE(t)}encode(e,t,r=0){return s(t).writeDoubleBE(e,r),8}}r.DoubleBE=S;class E extends a{constructor(e,t,r){if(!(e instanceof a))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;t instanceof u||!(0<e.span)||(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof u&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(e,t+r),++n}return r}decode(e,t=0){let r=[],i=0,n=this.count;for(n instanceof u&&(n=n.decode(e,t));i<n;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){let i=this.elementLayout,n=e.reduce((e,n)=>e+i.encode(n,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),n}}r.Sequence=E;class A extends a{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(const i of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>i.span&&void 0===i.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,i)=>{let n=i.getSpan(e,t);return t+=n,r+n},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){n(e);let r=this.makeDestinationObject();for(let i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let i=r,n=0,s=0;for(let i of this.fields){let a=i.span;if(s=0<a?a:0,void 0!==i.property){let n=e[i.property];void 0!==n&&(s=i.encode(n,t,r),0>a&&(a=i.getSpan(t,r)))}n=r,r+=a}return n+s-i}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}r.Structure=A;class M{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}r.UnionDiscriminator=M;class I extends M{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}r.UnionLayoutDiscriminator=I;class B extends a{constructor(e,t,r){let i;if(e instanceof d||e instanceof h)i=new I(new c(e));else if(e instanceof u&&e.isCount())i=new I(e);else if(e instanceof M)i=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof a))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let n=-1;t&&0<=(n=t.span)&&(e instanceof d||e instanceof h)&&(n+=i.layout.span),super(n,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,i=this.discriminator,n=i.decode(e,t),s=this.registry[n];if(void 0===s){let s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=i.layout.span),(r=this.makeDestinationObject())[i.property]=n,r[s.property]=s.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r=0){let i=this.getSourceVariant(e);if(void 0===i){let i=this.discriminator,n=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(e[i.property],t,r),s+n.encode(e[n.property],t,r+s)}return i.encode(e,t,r)}addVariant(e,t,r){let i=new T(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}r.Union=B;class T extends a{constructor(e,t,r,i){if(!(e instanceof B))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof a))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof i)throw TypeError("variant must have a String property")}let n=e.span;0>e.span&&0<=(n=r?r.span:0)&&e.usesPrefixDiscriminator&&(n+=e.discriminator.layout.span),super(n,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let n=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),n+=this.layout.getSpan(t,r+i),0<=this.union.span&&n>this.union.span))throw Error("encoded variant overruns containing union");return n}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=0x100000000),e}r.VariantLayout=T;class P extends a{constructor(e,t,r){if(!(e instanceof d||e instanceof h))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(e){return i=O(e),this},this._packedGetValue=function(){return i}}decode(e,t=0){let r=this.makeDestinationObject(),i=this.word.decode(e,t);for(let t of(this._packedSetValue(i),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let i=this.word.decode(t,r);for(let t of(this._packedSetValue(i),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new R(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new U(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}r.BitStructure=P;class R{constructor(e,t,r){if(!(e instanceof P))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const i=8*e.span,n=e.fields.reduce((e,t)=>e+t.bits,0);if(t+n>i)throw Error("bits too long for span remainder ("+(i-n)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=n,this.container.msb&&(this.start=i-n-t),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|r)}}r.BitField=R;class U extends R{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}r.Boolean=U;class L extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof u&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw TypeError(o("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw RangeError("encoding overruns Uint8Array");let n=s(e);return s(t).write(n.toString("hex"),r,i,"hex"),this.length instanceof u&&this.length.encode(i,t,r),i}}r.Blob=L;class j extends a{constructor(e){super(-1,e)}getSpan(e,t=0){n(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return s(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=i.Buffer.from(e,"utf8"),a=n.length;if(r+a>t.length)throw RangeError("encoding overruns Buffer");let o=s(t);return n.copy(o,r),o[r+a]=0,a+1}}r.CString=j;class C extends a{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return n(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return s(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=i.Buffer.from(e,"utf8"),a=n.length;if(0<=this.maxSpan&&this.maxSpan<a)throw RangeError("text length exceeds maxSpan");if(r+a>t.length)throw RangeError("encoding overruns Buffer");return n.copy(s(t),r),a}}r.UTF8=C;class N extends a{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}r.Constant=N,r.greedy=(e,t)=>new l(e,t),r.offset=(e,t,r)=>new c(e,t,r),r.u8=e=>new d(1,e),r.u16=e=>new d(2,e),r.u24=e=>new d(3,e),r.u32=e=>new d(4,e),r.u40=e=>new d(5,e),r.u48=e=>new d(6,e),r.nu64=e=>new y(e),r.u16be=e=>new h(2,e),r.u24be=e=>new h(3,e),r.u32be=e=>new h(4,e),r.u40be=e=>new h(5,e),r.u48be=e=>new h(6,e),r.nu64be=e=>new b(e),r.s8=e=>new f(1,e),r.s16=e=>new f(2,e),r.s24=e=>new f(3,e),r.s32=e=>new f(4,e),r.s40=e=>new f(5,e),r.s48=e=>new f(6,e),r.ns64=e=>new v(e),r.s16be=e=>new p(2,e),r.s24be=e=>new p(3,e),r.s32be=e=>new p(4,e),r.s40be=e=>new p(5,e),r.s48be=e=>new p(6,e),r.ns64be=e=>new w(e),r.f32=e=>new x(e),r.f32be=e=>new k(e),r.f64=e=>new _(e),r.f64be=e=>new S(e),r.struct=(e,t,r)=>new A(e,t,r),r.bits=(e,t,r)=>new P(e,t,r),r.seq=(e,t,r)=>new E(e,t,r),r.union=(e,t,r)=>new B(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new I(e,t),r.blob=(e,t)=>new L(e,t),r.cstr=e=>new j(e),r.utf8=(e,t)=>new C(e,t),r.constant=(e,t)=>new N(e,t)},875077,e=>{"use strict";e.s([],704544),e.i(704544);var t,r,i=e.i(699466),n=e.i(970382),s=0,a=0,o=e.i(511910);let u=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function l(e,t,r){function i(e,i,s,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=u(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(i),o.set(e,i.length),(o=r(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,s){a=a||0;for(var l=0;l<16;++l)s[a+l]=o[l];return s}return(0,n.default)(o)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function c(e){return(e+64>>>9<<4)+14+1}function d(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function h(e,t,r,i,n,s){var a;return d((a=d(d(t,e),d(i,s)))<<n|a>>>32-n,r)}function f(e,t,r,i,n,s,a){return h(t&r|~t&i,e,t,n,s,a)}function p(e,t,r,i,n,s,a){return h(t&i|r&~i,e,t,n,s,a)}function m(e,t,r,i,n,s,a){return h(t^r^i,e,t,n,s,a)}function g(e,t,r,i,n,s,a){return h(r^(t|~i),e,t,n,s,a)}var y=l("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,i="0123456789abcdef",n=0;n<r;n+=8){var s=e[n>>5]>>>n%32&255,a=parseInt(i.charAt(s>>>4&15)+i.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[c(t)-1]=t;for(var r=0x67452301,i=-0x10325477,n=-0x67452302,s=0x10325476,a=0;a<e.length;a+=16){var o=r,u=i,l=n,h=s;r=f(r,i,n,s,e[a],7,-0x28955b88),s=f(s,r,i,n,e[a+1],12,-0x173848aa),n=f(n,s,r,i,e[a+2],17,0x242070db),i=f(i,n,s,r,e[a+3],22,-0x3e423112),r=f(r,i,n,s,e[a+4],7,-0xa83f051),s=f(s,r,i,n,e[a+5],12,0x4787c62a),n=f(n,s,r,i,e[a+6],17,-0x57cfb9ed),i=f(i,n,s,r,e[a+7],22,-0x2b96aff),r=f(r,i,n,s,e[a+8],7,0x698098d8),s=f(s,r,i,n,e[a+9],12,-0x74bb0851),n=f(n,s,r,i,e[a+10],17,-42063),i=f(i,n,s,r,e[a+11],22,-0x76a32842),r=f(r,i,n,s,e[a+12],7,0x6b901122),s=f(s,r,i,n,e[a+13],12,-0x2678e6d),n=f(n,s,r,i,e[a+14],17,-0x5986bc72),i=f(i,n,s,r,e[a+15],22,0x49b40821),r=p(r,i,n,s,e[a+1],5,-0x9e1da9e),s=p(s,r,i,n,e[a+6],9,-0x3fbf4cc0),n=p(n,s,r,i,e[a+11],14,0x265e5a51),i=p(i,n,s,r,e[a],20,-0x16493856),r=p(r,i,n,s,e[a+5],5,-0x29d0efa3),s=p(s,r,i,n,e[a+10],9,0x2441453),n=p(n,s,r,i,e[a+15],14,-0x275e197f),i=p(i,n,s,r,e[a+4],20,-0x182c0438),r=p(r,i,n,s,e[a+9],5,0x21e1cde6),s=p(s,r,i,n,e[a+14],9,-0x3cc8f82a),n=p(n,s,r,i,e[a+3],14,-0xb2af279),i=p(i,n,s,r,e[a+8],20,0x455a14ed),r=p(r,i,n,s,e[a+13],5,-0x561c16fb),s=p(s,r,i,n,e[a+2],9,-0x3105c08),n=p(n,s,r,i,e[a+7],14,0x676f02d9),i=p(i,n,s,r,e[a+12],20,-0x72d5b376),r=m(r,i,n,s,e[a+5],4,-378558),s=m(s,r,i,n,e[a+8],11,-0x788e097f),n=m(n,s,r,i,e[a+11],16,0x6d9d6122),i=m(i,n,s,r,e[a+14],23,-0x21ac7f4),r=m(r,i,n,s,e[a+1],4,-0x5b4115bc),s=m(s,r,i,n,e[a+4],11,0x4bdecfa9),n=m(n,s,r,i,e[a+7],16,-0x944b4a0),i=m(i,n,s,r,e[a+10],23,-0x41404390),r=m(r,i,n,s,e[a+13],4,0x289b7ec6),s=m(s,r,i,n,e[a],11,-0x155ed806),n=m(n,s,r,i,e[a+3],16,-0x2b10cf7b),i=m(i,n,s,r,e[a+6],23,0x4881d05),r=m(r,i,n,s,e[a+9],4,-0x262b2fc7),s=m(s,r,i,n,e[a+12],11,-0x1924661b),n=m(n,s,r,i,e[a+15],16,0x1fa27cf8),i=m(i,n,s,r,e[a+2],23,-0x3b53a99b),r=g(r,i,n,s,e[a],6,-0xbd6ddbc),s=g(s,r,i,n,e[a+7],10,0x432aff97),n=g(n,s,r,i,e[a+14],15,-0x546bdc59),i=g(i,n,s,r,e[a+5],21,-0x36c5fc7),r=g(r,i,n,s,e[a+12],6,0x655b59c3),s=g(s,r,i,n,e[a+3],10,-0x70f3336e),n=g(n,s,r,i,e[a+10],15,-1051523),i=g(i,n,s,r,e[a+1],21,-0x7a7ba22f),r=g(r,i,n,s,e[a+8],6,0x6fa87e4f),s=g(s,r,i,n,e[a+15],10,-0x1d31920),n=g(n,s,r,i,e[a+6],15,-0x5cfebcec),i=g(i,n,s,r,e[a+13],21,0x4e0811a1),r=g(r,i,n,s,e[a+4],6,-0x8ac817e),s=g(s,r,i,n,e[a+11],10,-0x42c50dcb),n=g(n,s,r,i,e[a+2],15,0x2ad7d2bb),i=g(i,n,s,r,e[a+9],21,-0x14792c6f),r=d(r,o),i=d(i,u),n=d(n,l),s=d(s,h)}return[r,i,n,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(c(t)),i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r}(e),8*e.length))}),b=e.i(924567);function v(e,t){return e<<t|e>>>32-t}var w=l("v5",80,function(e){var t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],r=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var n=0;n<i.length;++n)e.push(i.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=Math.ceil((e.length/4+2)/16),a=Array(s),o=0;o<s;++o){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*o+4*l]<<24|e[64*o+4*l+1]<<16|e[64*o+4*l+2]<<8|e[64*o+4*l+3];a[o]=u}a[s-1][14]=(e.length-1)*8/0x100000000,a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8|0;for(var c=0;c<s;++c){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=a[c][h];for(var f=16;f<80;++f)d[f]=v(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var p=r[0],m=r[1],g=r[2],y=r[3],b=r[4],w=0;w<80;++w){var x=Math.floor(w/20),k=v(p,5)+function(e,t,r,i){switch(e){case 0:return t&r^~t&i;case 1:case 3:return t^r^i;case 2:return t&r^t&i^r&i}}(x,m,g,y)+b+t[x]+d[w]>>>0;b=y,y=g,g=v(m,30)>>>0,m=p,p=k}r[0]=r[0]+p>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,u,"stringify",()=>n.default,"v1",0,function(e,o,u){var l=o&&u||0,c=o||Array(16),d=(e=e||{}).node||t,h=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==h){var f=e.random||(e.rng||i.default)();null==d&&(d=t=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=r=(f[6]<<8|f[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:a+1,g=p-s+(m-a)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,a=m,r=h;var y=((0xfffffff&(p+=122192928e5))*1e4+m)%0x100000000;c[l++]=y>>>24&255,c[l++]=y>>>16&255,c[l++]=y>>>8&255,c[l++]=255&y;var b=p/0x100000000*1e4&0xfffffff;c[l++]=b>>>8&255,c[l++]=255&b,c[l++]=b>>>24&15|16,c[l++]=b>>>16&255,c[l++]=h>>>8|128,c[l++]=255&h;for(var v=0;v<6;++v)c[l+v]=d[v];return o||(0,n.default)(c)},"v3",0,y,"v4",()=>b.default,"v5",0,w,"validate",()=>o.default,"version",0,function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],875077)},873065,(e,t,r)=>{"use strict";let i=e.r(875077).v4;t.exports=function(e,t,r,n){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(n=n||{}).version?n.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let a={method:e};if(2===s&&(a.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");a.params=t}return void 0===r?a.id=("function"==typeof n.generator?n.generator:function(){return i()})(a,n):2===s&&null===r?n.notificationIdNull&&(a.id=null):a.id=r,a}},893641,(e,t,r)=>{"use strict";let i=e.r(875077).v4,n=e.r(873065),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return i()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};t.exports=s,s.prototype.request=function(e,t,r,i){let s,a=this,o=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let l=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||l)i=t,o=e;else{"function"==typeof r&&(i=r,r=void 0);let s="function"==typeof i;try{o=n(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return i(e);throw e}if(!s)return o}try{s=JSON.stringify(o,this.options.replacer)}catch(e){return i(e)}return this.callServer(s,function(e,t){a._parseResponse(e,t,i)}),o},s.prototype._parseResponse=function(e,t,r){let i;if(e)return void r(e);if(!t)return r();try{i=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(i))return r(null,i.error,i.result);else{let e=function(e){return void 0!==e.error};return r(null,i.filter(e),i.filter(function(t){return!e(t)}))}r(null,i)}},684362,531080,741474,e=>{"use strict";let t,r,i,n;class s extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class a extends s{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class o extends s{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}}e.s(["InvalidDomainManifest",()=>a,"RejectedByUser",()=>o],186246),e.s([],360690),e.s([],160323),e.s([],452045),e.s(["DEFAULT_READY_OPTIONS",0,{disableNativeGestures:!1}],346264),e.s([],302794),e.s([],36512);class u extends s{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}e.s(["RejectedByUser",()=>u],356208);class l extends s{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}}class c extends s{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}}class d extends s{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}}e.s(["GenericError",()=>d,"InvalidDomain",()=>c,"RejectedByUser",()=>l],569081),e.s([],510273),e.s([],223550),e.s([],270576),e.s([],74015),e.s([],2671),e.s([],490630),e.i(490630),(tb=tx||(tx={})).assertEqual=e=>{},tb.assertIs=function(e){},tb.assertNever=function(e){throw Error()},tb.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},tb.getValidEnumValues=e=>{let t=tb.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return tb.objectValues(r)},tb.objectValues=e=>tb.objectKeys(e).map(function(t){return e[t]}),tb.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},tb.find=(e,t)=>{for(let r of e)if(t(r))return r},tb.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,tb.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},tb.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(tk||(tk={})).mergeShapes=(e,t)=>({...e,...t});let h=tx.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),f=e=>{switch(typeof e){case"undefined":return h.undefined;case"string":return h.string;case"number":return Number.isNaN(e)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":if(Array.isArray(e))return h.array;if(null===e)return h.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return h.promise;if("undefined"!=typeof Map&&e instanceof Map)return h.map;if("undefined"!=typeof Set&&e instanceof Set)return h.set;if("undefined"!=typeof Date&&e instanceof Date)return h.date;return h.object;default:return h.unknown}};e.s(["ZodParsedType",0,h,"getParsedType",0,f,"objectUtil",()=>tk,"util",()=>tx],664180);let p=tx.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),m=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class g extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof g))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tx.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e),e.s(["ZodError",()=>g,"ZodIssueCode",0,p,"quotelessJson",0,m],760968);let y=(e,t)=>{let r;switch(e.code){case p.invalid_type:r=e.received===h.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case p.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tx.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:r=`Unrecognized key(s) in object: ${tx.joinValues(e.keys,", ")}`;break;case p.invalid_union:r="Invalid input";break;case p.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tx.joinValues(e.options)}`;break;case p.invalid_enum_value:r=`Invalid enum value. Expected ${tx.joinValues(e.options)}, received '${e.received}'`;break;case p.invalid_arguments:r="Invalid function arguments";break;case p.invalid_return_type:r="Invalid function return type";break;case p.invalid_date:r="Invalid date";break;case p.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tx.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case p.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case p.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case p.custom:r="Invalid input";break;case p.invalid_intersection_types:r="Intersection results could not be merged";break;case p.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case p.not_finite:r="Number must be finite";break;default:r=t.defaultError,tx.assertNever(e)}return{message:r}},b=y;function v(e){b=e}function w(){return b}e.s(["getErrorMap",()=>w,"setErrorMap",()=>v],655763),e.i(655763),e.s(["defaultErrorMap",0,y,"getErrorMap",()=>w,"setErrorMap",()=>v],295890),e.i(295890);let x=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,s=[...r,...n.path||[]],a={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...n,path:s,message:o}},k=[];function _(e,t){let r=b,i=x({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===y?void 0:y].filter(e=>!!e)});e.common.issues.push(i)}class S{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return E;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return S.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return E;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let E=Object.freeze({status:"aborted"}),A=e=>({status:"dirty",value:e}),M=e=>({status:"valid",value:e}),I=e=>"aborted"===e.status,B=e=>"dirty"===e.status,T=e=>"valid"===e.status,O=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,A,"EMPTY_PATH",0,k,"INVALID",0,E,"OK",0,M,"ParseStatus",()=>S,"addIssueToContext",()=>_,"isAborted",0,I,"isAsync",0,O,"isDirty",0,B,"isValid",0,T,"makeIssue",0,x],137747),e.i(137747),e.s([],497065),e.i(497065),e.i(664180),(tv=t_||(t_={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},tv.toString=e=>"string"==typeof e?e:e?.message;class P{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let R=(e,t)=>{if(T(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new g(e.common.issues);return this._error=t,this._error}}};function U(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??r??n.defaultError}},description:n}}class L{get description(){return this._def.description}_getType(e){return f(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new S,ctx:{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(O(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},i=this._parseSync({data:e,path:r.path,parent:r});return R(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return T(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>T(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},i=this._parse({data:e,path:r.path,parent:r});return R(r,await (O(i)?i:Promise.resolve(i)))}refine(e,t){return this._refinement((r,i)=>{let n=e(r),s=()=>i.addIssue({code:p.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new eB({schema:this,typeName:tS.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eT.create(this,this._def)}nullable(){return eO.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eh.create(this)}promise(){return eI.create(this,this._def)}or(e){return ep.create([this,e],this._def)}and(e){return ey.create(this,e,this._def)}transform(e){return new eB({...U(this._def),schema:this,typeName:tS.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eP({...U(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:tS.ZodDefault})}brand(){return new ej({typeName:tS.ZodBranded,type:this,...U(this._def)})}catch(e){return new eR({...U(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:tS.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eC.create(this,e)}readonly(){return eN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let j=/^c[^\s-]{8,}$/i,C=/^[0-9a-z]+$/,N=/^[0-9A-HJKMNP-TV-Z]{26}$/i,z=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Z=/^[a-z0-9_-]{21}$/i,W=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,D=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,J=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Y=RegExp(`^${G}$`);function X(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Q(e){let t=`${G}T${X(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class ee extends L{_parse(e){var r,i,n,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.string,received:t.parsedType}),E}let o=new S;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(_(a=this._getOrReturnCtx(e,a),{code:p.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(_(a=this._getOrReturnCtx(e,a),{code:p.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?_(a,{code:p.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&_(a,{code:p.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)D.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"email",code:p.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:p.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)z.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:p.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)Z.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:p.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)j.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:p.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)C.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:p.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)N.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:p.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{_(a=this._getOrReturnCtx(e,a),{validation:"url",code:p.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"regex",code:p.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?Q(u).test(e.data)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?Y.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${X(u)}$`).test(e.data)||(_(a=this._getOrReturnCtx(e,a),{code:p.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?$.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"duration",code:p.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(r=e.data,!(("v4"===(i=u.version)||!i)&&F.test(r)||("v6"===i||!i)&&q.test(r))&&1&&(_(a=this._getOrReturnCtx(e,a),{validation:"ip",code:p.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!W.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(_(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:p.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(n=e.data,!(("v4"===(s=u.version)||!s)&&K.test(n)||("v6"===s||!s)&&V.test(n))&&1&&(_(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:p.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?J.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"base64",code:p.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?H.test(e.data)||(_(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:p.invalid_string,message:u.message}),o.dirty()):tx.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:p.invalid_string,...t_.errToObj(r)})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...t_.errToObj(e)})}url(e){return this._addCheck({kind:"url",...t_.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...t_.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...t_.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...t_.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...t_.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...t_.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...t_.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...t_.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...t_.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...t_.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...t_.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...t_.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...t_.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...t_.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...t_.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...t_.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...t_.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...t_.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...t_.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...t_.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...t_.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...t_.errToObj(t)})}nonempty(e){return this.min(1,t_.errToObj(e))}trim(){return new ee({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ee({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ee({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ee.create=e=>new ee({checks:[],typeName:tS.ZodString,coerce:e?.coerce??!1,...U(e)});class et extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.number,received:t.parsedType}),E}let r=new S;for(let i of this._def.checks)"int"===i.kind?tx.isInteger(e.data)||(_(t=this._getOrReturnCtx(e,t),{code:p.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,i.value)&&(_(t=this._getOrReturnCtx(e,t),{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(_(t=this._getOrReturnCtx(e,t),{code:p.not_finite,message:i.message}),r.dirty()):tx.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,t_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,t_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,t_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,t_.toString(t))}setLimit(e,t,r,i){return new et({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:t_.toString(i)}]})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:t_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:t_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:t_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:t_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:t_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:t_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:t_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:t_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:t_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tx.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}et.create=e=>new et({checks:[],typeName:tS.ZodNumber,coerce:e?.coerce||!1,...U(e)});class er extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==h.bigint)return this._getInvalidInput(e);let r=new S;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(_(t=this._getOrReturnCtx(e,t),{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):tx.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.bigint,received:t.parsedType}),E}gte(e,t){return this.setLimit("min",e,!0,t_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,t_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,t_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,t_.toString(t))}setLimit(e,t,r,i){return new er({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:t_.toString(i)}]})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:t_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:t_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:t_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:t_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:t_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}er.create=e=>new er({checks:[],typeName:tS.ZodBigInt,coerce:e?.coerce??!1,...U(e)});class ei extends L{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.boolean,received:t.parsedType}),E}return M(e.data)}}ei.create=e=>new ei({typeName:tS.ZodBoolean,coerce:e?.coerce||!1,...U(e)});class en extends L{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.date,received:t.parsedType}),E}if(Number.isNaN(e.data.getTime()))return _(this._getOrReturnCtx(e),{code:p.invalid_date}),E;let r=new S;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(_(t=this._getOrReturnCtx(e,t),{code:p.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):tx.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:t_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:t_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}en.create=e=>new en({checks:[],coerce:e?.coerce||!1,typeName:tS.ZodDate,...U(e)});class es extends L{_parse(e){if(this._getType(e)!==h.symbol){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.symbol,received:t.parsedType}),E}return M(e.data)}}es.create=e=>new es({typeName:tS.ZodSymbol,...U(e)});class ea extends L{_parse(e){if(this._getType(e)!==h.undefined){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.undefined,received:t.parsedType}),E}return M(e.data)}}ea.create=e=>new ea({typeName:tS.ZodUndefined,...U(e)});class eo extends L{_parse(e){if(this._getType(e)!==h.null){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.null,received:t.parsedType}),E}return M(e.data)}}eo.create=e=>new eo({typeName:tS.ZodNull,...U(e)});class eu extends L{constructor(){super(...arguments),this._any=!0}_parse(e){return M(e.data)}}eu.create=e=>new eu({typeName:tS.ZodAny,...U(e)});class el extends L{constructor(){super(...arguments),this._unknown=!0}_parse(e){return M(e.data)}}el.create=e=>new el({typeName:tS.ZodUnknown,...U(e)});class ec extends L{_parse(e){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.never,received:t.parsedType}),E}}ec.create=e=>new ec({typeName:tS.ZodNever,...U(e)});class ed extends L{_parse(e){if(this._getType(e)!==h.undefined){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.void,received:t.parsedType}),E}return M(e.data)}}ed.create=e=>new ed({typeName:tS.ZodVoid,...U(e)});class eh extends L{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==h.array)return _(t,{code:p.invalid_type,expected:h.array,received:t.parsedType}),E;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(_(t,{code:e?p.too_big:p.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(_(t,{code:p.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(_(t,{code:p.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new P(t,e,t.path,r)))).then(e=>S.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new P(t,e,t.path,r)));return S.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new eh({...this._def,minLength:{value:e,message:t_.toString(t)}})}max(e,t){return new eh({...this._def,maxLength:{value:e,message:t_.toString(t)}})}length(e,t){return new eh({...this._def,exactLength:{value:e,message:t_.toString(t)}})}nonempty(e){return this.min(1,e)}}eh.create=(e,t)=>new eh({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tS.ZodArray,...U(t)});class ef extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tx.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==h.object){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.object,received:t.parsedType}),E}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof ec&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||s.push(e);let a=[];for(let e of n){let t=i[e],n=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new P(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ec){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(_(r,{code:p.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let i=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new P(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>S.mergeObjectSync(t,e)):S.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return t_.errToObj,new ef({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:t_.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ef({...this._def,unknownKeys:"strip"})}passthrough(){return new ef({...this._def,unknownKeys:"passthrough"})}extend(e){return new ef({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ef({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tS.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ef({...this._def,catchall:e})}pick(e){let t={};for(let r of tx.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ef({...this._def,shape:()=>t})}omit(e){let t={};for(let r of tx.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ef({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ef){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=eT.create(e(n))}return new ef({...t._def,shape:()=>r})}if(t instanceof eh)return new eh({...t._def,type:e(t.element)});if(t instanceof eT)return eT.create(e(t.unwrap()));if(t instanceof eO)return eO.create(e(t.unwrap()));if(t instanceof eb)return eb.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of tx.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new ef({...this._def,shape:()=>t})}required(e){let t={};for(let r of tx.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eT;)e=e._def.innerType;t[r]=e}return new ef({...this._def,shape:()=>t})}keyof(){return eE(tx.objectKeys(this.shape))}}ef.create=(e,t)=>new ef({shape:()=>e,unknownKeys:"strip",catchall:ec.create(),typeName:tS.ZodObject,...U(t)}),ef.strictCreate=(e,t)=>new ef({shape:()=>e,unknownKeys:"strict",catchall:ec.create(),typeName:tS.ZodObject,...U(t)}),ef.lazycreate=(e,t)=>new ef({shape:e,unknownKeys:"strip",catchall:ec.create(),typeName:tS.ZodObject,...U(t)});class ep extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new g(e.ctx.common.issues));return _(t,{code:p.invalid_union,unionErrors:r}),E});{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new g(e));return _(t,{code:p.invalid_union,unionErrors:n}),E}}get options(){return this._def.options}}ep.create=(e,t)=>new ep({options:e,typeName:tS.ZodUnion,...U(t)});let em=e=>{if(e instanceof e_)return em(e.schema);if(e instanceof eB)return em(e.innerType());if(e instanceof eS)return[e.value];if(e instanceof eA)return e.options;if(e instanceof eM)return tx.objectValues(e.enum);else if(e instanceof eP)return em(e._def.innerType);else if(e instanceof ea)return[void 0];else if(e instanceof eo)return[null];else if(e instanceof eT)return[void 0,...em(e.unwrap())];else if(e instanceof eO)return[null,...em(e.unwrap())];else if(e instanceof ej)return em(e.unwrap());else if(e instanceof eN)return em(e.unwrap());else if(e instanceof eR)return em(e._def.innerType);else return[]};class eg extends L{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return _(t,{code:p.invalid_type,expected:h.object,received:t.parsedType}),E;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(_(t,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),E)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=em(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new eg({typeName:tS.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...U(r)})}}class ey extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(I(e)||I(i))return E;let n=function e(t,r){let i=f(t),n=f(r);if(t===r)return{valid:!0,data:t};if(i===h.object&&n===h.object){let i=tx.objectKeys(r),n=tx.objectKeys(t).filter(e=>-1!==i.indexOf(e)),s={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};s[i]=n.data}return{valid:!0,data:s}}if(i===h.array&&n===h.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}if(i===h.date&&n===h.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,i.value);return n.valid?((B(e)||B(i))&&t.dirty(),{status:t.value,value:n.data}):(_(r,{code:p.invalid_intersection_types}),E)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ey.create=(e,t,r)=>new ey({left:e,right:t,typeName:tS.ZodIntersection,...U(r)});class eb extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.array)return _(r,{code:p.invalid_type,expected:h.array,received:r.parsedType}),E;if(r.data.length<this._def.items.length)return _(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),E;!this._def.rest&&r.data.length>this._def.items.length&&(_(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new P(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>S.mergeArray(t,e)):S.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new eb({...this._def,rest:e})}}eb.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eb({items:e,typeName:tS.ZodTuple,rest:null,...U(t)})};class ev extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return _(r,{code:p.invalid_type,expected:h.object,received:r.parsedType}),E;let i=[],n=this._def.keyType,s=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new P(r,e,r.path,e)),value:s._parse(new P(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?S.mergeObjectAsync(t,i):S.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new ev(t instanceof L?{keyType:e,valueType:t,typeName:tS.ZodRecord,...U(r)}:{keyType:ee.create(),valueType:e,typeName:tS.ZodRecord,...U(t)})}}class ew extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.map)return _(r,{code:p.invalid_type,expected:h.map,received:r.parsedType}),E;let i=this._def.keyType,n=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:i._parse(new P(r,e,r.path,[s,"key"])),value:n._parse(new P(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return E;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return E;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}ew.create=(e,t,r)=>new ew({valueType:t,keyType:e,typeName:tS.ZodMap,...U(r)});class ex extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.set)return _(r,{code:p.invalid_type,expected:h.set,received:r.parsedType}),E;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(_(r,{code:p.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(_(r,{code:p.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let r=new Set;for(let i of e){if("aborted"===i.status)return E;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>n._parse(new P(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new ex({...this._def,minSize:{value:e,message:t_.toString(t)}})}max(e,t){return new ex({...this._def,maxSize:{value:e,message:t_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ex.create=(e,t)=>new ex({valueType:e,minSize:null,maxSize:null,typeName:tS.ZodSet,...U(t)});class ek extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return _(t,{code:p.invalid_type,expected:h.function,received:t.parsedType}),E;function r(e,r){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b,y].filter(e=>!!e),issueData:{code:p.invalid_arguments,argumentsError:r}})}function i(e,r){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b,y].filter(e=>!!e),issueData:{code:p.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof eI){let e=this;return M(async function(...t){let a=new g([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw a.addIssue(r(t,e)),a}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,n).catch(e=>{throw a.addIssue(i(u,e)),a})})}{let e=this;return M(function(...t){let a=e._def.args.safeParse(t,n);if(!a.success)throw new g([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),u=e._def.returns.safeParse(o,n);if(!u.success)throw new g([i(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ek({...this._def,args:eb.create(e).rest(el.create())})}returns(e){return new ek({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ek({args:e||eb.create([]).rest(el.create()),returns:t||el.create(),typeName:tS.ZodFunction,...U(r)})}}class e_ extends L{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}e_.create=(e,t)=>new e_({getter:e,typeName:tS.ZodLazy,...U(t)});class eS extends L{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return _(t,{received:t.data,code:p.invalid_literal,expected:this._def.value}),E}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eE(e,t){return new eA({values:e,typeName:tS.ZodEnum,...U(t)})}eS.create=(e,t)=>new eS({value:e,typeName:tS.ZodLiteral,...U(t)});class eA extends L{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{expected:tx.joinValues(r),received:t.parsedType,code:p.invalid_type}),E}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{received:t.data,code:p.invalid_enum_value,options:r}),E}return M(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eA.create(e,{...this._def,...t})}exclude(e,t=this._def){return eA.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eA.create=eE;class eM extends L{_parse(e){let t=tx.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==h.string&&r.parsedType!==h.number){let e=tx.objectValues(t);return _(r,{expected:tx.joinValues(e),received:r.parsedType,code:p.invalid_type}),E}if(this._cache||(this._cache=new Set(tx.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=tx.objectValues(t);return _(r,{received:r.data,code:p.invalid_enum_value,options:e}),E}return M(e.data)}get enum(){return this._def.values}}eM.create=(e,t)=>new eM({values:e,typeName:tS.ZodNativeEnum,...U(t)});class eI extends L{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==h.promise&&!1===t.common.async?(_(t,{code:p.invalid_type,expected:h.promise,received:t.parsedType}),E):M((t.parsedType===h.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eI.create=(e,t)=>new eI({type:e,typeName:tS.ZodPromise,...U(t)});class eB extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tS.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{_(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return E;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?E:"dirty"===i.status||"dirty"===t.value?A(i.value):i});{if("aborted"===t.value)return E;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?E:"dirty"===i.status||"dirty"===t.value?A(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?E:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?E:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>T(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):E);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!T(e))return E;let s=i.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}tx.assertNever(i)}}eB.create=(e,t,r)=>new eB({schema:e,typeName:tS.ZodEffects,effect:t,...U(r)}),eB.createWithPreprocess=(e,t,r)=>new eB({schema:t,effect:{type:"preprocess",transform:e},typeName:tS.ZodEffects,...U(r)});class eT extends L{_parse(e){return this._getType(e)===h.undefined?M(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:tS.ZodOptional,...U(t)});class eO extends L{_parse(e){return this._getType(e)===h.null?M(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:tS.ZodNullable,...U(t)});class eP extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:tS.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...U(t)});class eR extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return O(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eR.create=(e,t)=>new eR({innerType:e,typeName:tS.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...U(t)});class eU extends L{_parse(e){if(this._getType(e)!==h.nan){let t=this._getOrReturnCtx(e);return _(t,{code:p.invalid_type,expected:h.nan,received:t.parsedType}),E}return{status:"valid",value:e.data}}}eU.create=e=>new eU({typeName:tS.ZodNaN,...U(e)});let eL=Symbol("zod_brand");class ej extends L{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eC extends L{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?E:"dirty"===e.status?(t.dirty(),A(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?E:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eC({in:e,out:t,typeName:tS.ZodPipeline})}}class eN extends L{_parse(e){let t=this._def.innerType._parse(e),r=e=>(T(e)&&(e.value=Object.freeze(e.value)),e);return O(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ez(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eZ(e,t={},r){return e?eu.create().superRefine((i,n)=>{let s=e(i);if(s instanceof Promise)return s.then(e=>{if(!e){let e=ez(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ez(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}}):eu.create()}eN.create=(e,t)=>new eN({innerType:e,typeName:tS.ZodReadonly,...U(t)});let eW={object:ef.lazycreate};(tw=tS||(tS={})).ZodString="ZodString",tw.ZodNumber="ZodNumber",tw.ZodNaN="ZodNaN",tw.ZodBigInt="ZodBigInt",tw.ZodBoolean="ZodBoolean",tw.ZodDate="ZodDate",tw.ZodSymbol="ZodSymbol",tw.ZodUndefined="ZodUndefined",tw.ZodNull="ZodNull",tw.ZodAny="ZodAny",tw.ZodUnknown="ZodUnknown",tw.ZodNever="ZodNever",tw.ZodVoid="ZodVoid",tw.ZodArray="ZodArray",tw.ZodObject="ZodObject",tw.ZodUnion="ZodUnion",tw.ZodDiscriminatedUnion="ZodDiscriminatedUnion",tw.ZodIntersection="ZodIntersection",tw.ZodTuple="ZodTuple",tw.ZodRecord="ZodRecord",tw.ZodMap="ZodMap",tw.ZodSet="ZodSet",tw.ZodFunction="ZodFunction",tw.ZodLazy="ZodLazy",tw.ZodLiteral="ZodLiteral",tw.ZodEnum="ZodEnum",tw.ZodEffects="ZodEffects",tw.ZodNativeEnum="ZodNativeEnum",tw.ZodOptional="ZodOptional",tw.ZodNullable="ZodNullable",tw.ZodDefault="ZodDefault",tw.ZodCatch="ZodCatch",tw.ZodPromise="ZodPromise",tw.ZodBranded="ZodBranded",tw.ZodPipeline="ZodPipeline",tw.ZodReadonly="ZodReadonly";let e$=(e,t={message:`Input not instance of ${e.name}`})=>eZ(t=>t instanceof e,t),eD=ee.create,eF=et.create,eK=eU.create,eq=er.create,eV=ei.create,eJ=en.create,eH=es.create,eG=ea.create,eY=eo.create,eX=eu.create,eQ=el.create,e0=ec.create,e1=ed.create,e2=eh.create,e6=ef.create,e3=ef.strictCreate,e5=ep.create,e4=eg.create,e8=ey.create,e9=eb.create,e7=ev.create,te=ew.create,tt=ex.create,tr=ek.create,ti=e_.create,tn=eS.create,ts=eA.create,ta=eM.create,to=eI.create,tu=eB.create,tl=eT.create,tc=eO.create,td=eB.createWithPreprocess,th=eC.create,tf=()=>eD().optional(),tp=()=>eF().optional(),tm=()=>eV().optional(),tg={string:e=>ee.create({...e,coerce:!0}),number:e=>et.create({...e,coerce:!0}),boolean:e=>ei.create({...e,coerce:!0}),bigint:e=>er.create({...e,coerce:!0}),date:e=>en.create({...e,coerce:!0})};e.s(["BRAND",0,eL,"NEVER",0,E,"Schema",()=>L,"ZodAny",()=>eu,"ZodArray",()=>eh,"ZodBigInt",()=>er,"ZodBoolean",()=>ei,"ZodBranded",()=>ej,"ZodCatch",()=>eR,"ZodDate",()=>en,"ZodDefault",()=>eP,"ZodDiscriminatedUnion",()=>eg,"ZodEffects",()=>eB,"ZodEnum",()=>eA,"ZodFirstPartyTypeKind",()=>tS,"ZodFunction",()=>ek,"ZodIntersection",()=>ey,"ZodLazy",()=>e_,"ZodLiteral",()=>eS,"ZodMap",()=>ew,"ZodNaN",()=>eU,"ZodNativeEnum",()=>eM,"ZodNever",()=>ec,"ZodNull",()=>eo,"ZodNullable",()=>eO,"ZodNumber",()=>et,"ZodObject",()=>ef,"ZodOptional",()=>eT,"ZodPipeline",()=>eC,"ZodPromise",()=>eI,"ZodReadonly",()=>eN,"ZodRecord",()=>ev,"ZodSchema",()=>L,"ZodSet",()=>ex,"ZodString",()=>ee,"ZodSymbol",()=>es,"ZodTransformer",()=>eB,"ZodTuple",()=>eb,"ZodType",()=>L,"ZodUndefined",()=>ea,"ZodUnion",()=>ep,"ZodUnknown",()=>el,"ZodVoid",()=>ed,"any",()=>eX,"array",()=>e2,"bigint",()=>eq,"boolean",()=>eV,"coerce",0,tg,"custom",()=>eZ,"date",()=>eJ,"datetimeRegex",()=>Q,"discriminatedUnion",()=>e4,"effect",()=>tu,"enum",()=>ts,"function",()=>tr,"instanceof",()=>e$,"intersection",()=>e8,"late",0,eW,"lazy",()=>ti,"literal",()=>tn,"map",()=>te,"nan",()=>eK,"nativeEnum",()=>ta,"never",()=>e0,"null",()=>eY,"nullable",()=>tc,"number",()=>eF,"object",()=>e6,"oboolean",()=>tm,"onumber",()=>tp,"optional",()=>tl,"ostring",()=>tf,"pipeline",()=>th,"preprocess",()=>td,"promise",()=>to,"record",()=>e7,"set",()=>tt,"strictObject",()=>e3,"string",()=>eD,"symbol",()=>eH,"transformer",()=>tu,"tuple",()=>e9,"undefined",()=>eG,"union",()=>e5,"unknown",()=>eQ,"void",()=>e1],608394),e.i(608394),e.i(760968),e.s(["BRAND",0,eL,"DIRTY",0,A,"EMPTY_PATH",0,k,"INVALID",0,E,"NEVER",0,E,"OK",0,M,"ParseStatus",()=>S,"Schema",()=>L,"ZodAny",()=>eu,"ZodArray",()=>eh,"ZodBigInt",()=>er,"ZodBoolean",()=>ei,"ZodBranded",()=>ej,"ZodCatch",()=>eR,"ZodDate",()=>en,"ZodDefault",()=>eP,"ZodDiscriminatedUnion",()=>eg,"ZodEffects",()=>eB,"ZodEnum",()=>eA,"ZodError",()=>g,"ZodFirstPartyTypeKind",()=>tS,"ZodFunction",()=>ek,"ZodIntersection",()=>ey,"ZodIssueCode",0,p,"ZodLazy",()=>e_,"ZodLiteral",()=>eS,"ZodMap",()=>ew,"ZodNaN",()=>eU,"ZodNativeEnum",()=>eM,"ZodNever",()=>ec,"ZodNull",()=>eo,"ZodNullable",()=>eO,"ZodNumber",()=>et,"ZodObject",()=>ef,"ZodOptional",()=>eT,"ZodParsedType",0,h,"ZodPipeline",()=>eC,"ZodPromise",()=>eI,"ZodReadonly",()=>eN,"ZodRecord",()=>ev,"ZodSchema",()=>L,"ZodSet",()=>ex,"ZodString",()=>ee,"ZodSymbol",()=>es,"ZodTransformer",()=>eB,"ZodTuple",()=>eb,"ZodType",()=>L,"ZodUndefined",()=>ea,"ZodUnion",()=>ep,"ZodUnknown",()=>el,"ZodVoid",()=>ed,"addIssueToContext",()=>_,"any",()=>eX,"array",()=>e2,"bigint",()=>eq,"boolean",()=>eV,"coerce",0,tg,"custom",()=>eZ,"date",()=>eJ,"datetimeRegex",()=>Q,"defaultErrorMap",0,y,"discriminatedUnion",()=>e4,"effect",()=>tu,"enum",()=>ts,"function",()=>tr,"getErrorMap",()=>w,"getParsedType",0,f,"instanceof",()=>e$,"intersection",()=>e8,"isAborted",0,I,"isAsync",0,O,"isDirty",0,B,"isValid",0,T,"late",0,eW,"lazy",()=>ti,"literal",()=>tn,"makeIssue",0,x,"map",()=>te,"nan",()=>eK,"nativeEnum",()=>ta,"never",()=>e0,"null",()=>eY,"nullable",()=>tc,"number",()=>eF,"object",()=>e6,"objectUtil",()=>tk,"oboolean",()=>tm,"onumber",()=>tp,"optional",()=>tl,"ostring",()=>tf,"pipeline",()=>th,"preprocess",()=>td,"promise",()=>to,"quotelessJson",0,m,"record",()=>e7,"set",()=>tt,"setErrorMap",()=>v,"strictObject",()=>e3,"string",()=>eD,"symbol",()=>eH,"transformer",()=>tu,"tuple",()=>e9,"undefined",()=>eG,"union",()=>e5,"unknown",()=>eQ,"util",()=>tx,"void",()=>e1],609544);var ty,tb,tv,tw,tx,tk,t_,tS,tE=e.i(609544),tE=tE,tE=tE;let tA=/[@#$%^&*+=/\\|~]/,tM=/(!{2,}|\?{2,}|-{2,})/,tI=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,tB=({max:e,noSpaces:t}={})=>(t?tE.string().max(e??1/0).regex(/^\S*$/,"Spaces are not allowed"):tE.string().max(e??1/0)).refine(e=>!tI.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!tA.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(e=>!tM.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),tT=tE.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(e=>!e.includes(" "),{message:"URL must not contain spaces"}).refine(e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(t)||t.startsWith("[")&&t.endsWith("]"))return!1;return!0}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),tO=tE.string().max(32),tP=tE.string().max(32),tR=tE.string().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),tU=tE.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),tL=tE.string().max(1024).regex(/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(e=>!e.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(e=>!e.includes("/"),{message:"Domain must not include path separators"}).refine(e=>!e.includes("@"),{message:"Domain must not include @ symbol"}).refine(e=>!e.includes(":"),{message:"Domain must not include port numbers"}),tj=tE.union([tE.literal("1:1"),tE.literal("3:2")]),tC=tE.object({header:tE.string(),payload:tE.string(),signature:tE.string()});tE.object({fid:tE.number(),type:tE.literal("app_key"),key:tE.string().startsWith("0x")});let tN=tE.object({type:tE.literal("launch_frame"),name:tO,url:tT.optional(),splashImageUrl:tT.optional(),splashBackgroundColor:tU.optional()}),tz=tE.object({type:tE.literal("launch_miniapp"),name:tO,url:tT.optional(),splashImageUrl:tT.optional(),splashBackgroundColor:tU.optional()}),tZ=tE.object({type:tE.literal("view_token"),token:tR}),tW=tE.discriminatedUnion("type",[tz,tZ,tN]),t$=tE.object({title:tP,action:tW});tE.object({version:tE.union([tE.string(),tE.number()]).transform(e=>String(e)).pipe(tE.union([tE.literal("next"),tE.literal("1")])),imageUrl:tT,aspectRatio:tj.optional(),button:t$});var tE=tE,tE=tE;let tD=tE.object({url:tE.string(),token:tE.string()});tE.object({notificationId:tE.string().max(128),title:tE.string().max(32),body:tE.string().max(128),targetUrl:tT,tokens:tE.string().array().max(100)}),tE.object({result:tE.object({successfulTokens:tE.array(tE.string()),invalidTokens:tE.array(tE.string()),rateLimitedTokens:tE.array(tE.string())})});let tF=tE.object({event:tE.literal("miniapp_added"),notificationDetails:tD.optional()}),tK=tE.object({event:tE.literal("miniapp_removed")}),tq=tE.object({event:tE.literal("notifications_enabled"),notificationDetails:tD.required()}),tV=tE.object({event:tE.literal("notifications_disabled")});tE.discriminatedUnion("event",[tF,tK,tq,tV]);var tE=tE;let tJ=tE.enum(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),tH=tE.union([tE.literal("0.0.0"),tE.literal("0.0.1"),tE.literal("1"),tE.literal("next")]),tG=tB({max:30}),tY=tB({max:170}),tX=tE.array(tT).max(3),tQ=tE.array(tB({max:20,noSpaces:!0})).max(5),t0=tB({max:30}),t1=tB({max:30}),t2=tB({max:100}),t6=tE.boolean();function t3(e){return Array.from(new Set(e))}let t5=tE.array(tE.enum(["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"])).transform(t3),t4=tE.array(tE.enum(["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"])).transform(t3),t8=tE.object({version:tH,name:tO,iconUrl:tT,homeUrl:tT,imageUrl:tT.optional(),buttonTitle:tP.optional(),splashImageUrl:tT.optional(),splashBackgroundColor:tU.optional(),webhookUrl:tT.optional(),subtitle:tG.optional(),description:tY.optional(),screenshotUrls:tX.optional(),primaryCategory:tJ.optional(),tags:tQ.optional(),heroImageUrl:tT.optional(),tagline:t0.optional(),ogTitle:t1.optional(),ogDescription:t2.optional(),ogImageUrl:tT.optional(),noindex:t6.optional(),requiredChains:t5.optional(),requiredCapabilities:t4.optional(),castShareUrl:tT.optional(),canonicalDomain:tL.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});tE.object({accountAssociation:tC,miniapp:t8.optional(),frame:t8.optional()}).refine(e=>!e.frame||!e.miniapp||JSON.stringify(e.frame)===JSON.stringify(e.miniapp),{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(e=>({...e,frame:e.frame??e.miniapp}));var t9=e.i(515792),t7=e.i(873372),re=e.i(991908),rt=e.i(98519),rr=e.i(604610),ri=e.i(264768);let rn=BigInt(0),rs=BigInt(1),ra=BigInt(2),ro=BigInt(8),ru={zip215:!0};var rl=e.i(185073);BigInt(0),BigInt(1),BigInt(2);let rc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rd=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),rh=BigInt(0),rf=BigInt(1),rp=BigInt(2),rm=BigInt(3),rg=BigInt(5),ry=BigInt(8);function rb(e,t){var r;let i,n,s,a,o,u,l,c,d,h,f,p,m,g,y=(0,rr.mod)(t*t*t,rc),b=(r=e*(0,rr.mod)(y*y*t,rc),i=BigInt(10),n=BigInt(20),s=BigInt(40),a=BigInt(80),o=r*r%rc*r%rc,u=(0,rr.pow2)(o,rp,rc)*o%rc,l=(0,rr.pow2)(u,rf,rc)*r%rc,c=(0,rr.pow2)(l,rg,rc)*l%rc,d=(0,rr.pow2)(c,i,rc)*c%rc,h=(0,rr.pow2)(d,n,rc)*d%rc,f=(0,rr.pow2)(h,s,rc)*h%rc,p=(0,rr.pow2)(f,a,rc)*f%rc,m=(0,rr.pow2)(p,a,rc)*f%rc,g=(0,rr.pow2)(m,i,rc)*c%rc,{pow_p_5_8:(0,rr.pow2)(g,rp,rc)*r%rc,b2:o}).pow_p_5_8,v=(0,rr.mod)(e*y*b,rc),w=(0,rr.mod)(t*v*v,rc),x=v,k=(0,rr.mod)(v*rd,rc),_=w===e,S=w===(0,rr.mod)(-e,rc),E=w===(0,rr.mod)(-e*rd,rc);return _&&(v=x),(S||E)&&(v=k),(0,rr.isNegativeLE)(v,rc)&&(v=(0,rr.mod)(-v,rc)),{isValid:_||S,value:v}}let rv=(0,rr.Field)(rc,void 0,!0),rw=function(e){var t,r;let i,n,s,a,o,u=(i=(0,rt.validateBasic)(e),(0,ri.validateObject)(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...i})),{Fp:l,n:c,prehash:d,hash:h,randomBytes:f,nByteLength:p,h:m}=u,g=ra<<BigInt(8*p)-rs,y=l.create,b=(0,rr.Field)(u.n,u.nBitLength);if(t=u.Gx,r=u.Gy,n=l.sqr(t),s=l.sqr(r),a=l.add(l.mul(u.a,n),s),o=l.add(l.ONE,l.mul(u.d,l.mul(n,s))),!l.eql(a,o))throw Error("bad curve params: generator point");let v=u.uvRatio||((e,t)=>{try{return{isValid:!0,value:l.sqrt(e*l.inv(t))}}catch(e){return{isValid:!1,value:rn}}}),w=u.adjustScalarBytes||(e=>e),x=u.domain||((e,t,r)=>{if((0,ri.abool)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function k(e,t,r=!1){let i=r?rs:rn;(0,ri.aInRange)("coordinate "+e,t,i,g)}function _(e){if(!(e instanceof A))throw Error("ExtendedPoint expected")}let S=(0,ri.memoized)((e,t)=>{let{ex:r,ey:i,ez:n}=e,s=e.is0();null==t&&(t=s?ro:l.inv(n));let a=y(r*t),o=y(i*t),u=y(n*t);if(s)return{x:rn,y:rs};if(u!==rs)throw Error("invZ was invalid");return{x:a,y:o}}),E=(0,ri.memoized)(e=>{let{a:t,d:r}=u;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:n,ez:s,et:a}=e,o=y(i*i),l=y(n*n),c=y(s*s),d=y(c*c),h=y(o*t);if(y(c*y(h+l))!==y(d+y(r*y(o*l))))throw Error("bad point: equation left != right (1)");if(y(i*n)!==y(s*a))throw Error("bad point: equation left != right (2)");return!0});class A{constructor(e,t,r,i){k("x",e),k("y",t),k("z",r,!0),k("t",i),this.ex=e,this.ey=t,this.ez=r,this.et=i,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof A)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return k("x",t),k("y",r),new A(t,r,rs,y(t*r))}static normalizeZ(e){let t=(0,rr.FpInvertBatch)(l,e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(A.fromAffine)}static msm(e,t){return(0,rt.pippenger)(A,b,e,t)}_setWindowSize(e){B.setWindowSize(this,e)}assertValidity(){E(this)}equals(e){_(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:s,ez:a}=e,o=y(t*a),u=y(n*i),l=y(r*a),c=y(s*i);return o===u&&l===c}is0(){return this.equals(A.ZERO)}negate(){return new A(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:e}=u,{ex:t,ey:r,ez:i}=this,n=y(t*t),s=y(r*r),a=y(ra*y(i*i)),o=y(e*n),l=t+r,c=y(y(l*l)-n-s),d=o+s,h=d-a,f=o-s,p=y(c*h),m=y(d*f),g=y(c*f);return new A(p,m,y(h*d),g)}add(e){_(e);let{a:t,d:r}=u,{ex:i,ey:n,ez:s,et:a}=this,{ex:o,ey:l,ez:c,et:d}=e,h=y(i*o),f=y(n*l),p=y(a*r*d),m=y(s*c),g=y((i+n)*(o+l)-h-f),b=m-p,v=m+p,w=y(f-t*h),x=y(g*b),k=y(v*w),S=y(g*w);return new A(x,k,y(b*v),S)}subtract(e){return this.add(e.negate())}wNAF(e){return B.wNAFCached(this,e,A.normalizeZ)}multiply(e){(0,ri.aInRange)("scalar",e,rs,c);let{p:t,f:r}=this.wNAF(e);return A.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=A.ZERO){return((0,ri.aInRange)("scalar",e,rn,c),e===rn)?I:this.is0()||e===rs?this:B.wNAFCachedUnsafe(this,e,A.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return B.unsafeLadder(this,c).is0()}toAffine(e){return S(this,e)}clearCofactor(){let{h:e}=u;return e===rs?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:r,a:i}=u,n=l.BYTES;e=(0,ri.ensureBytes)("pointHex",e,n),(0,ri.abool)("zip215",t);let s=e.slice(),a=e[n-1];s[n-1]=-129&a;let o=(0,ri.bytesToNumberLE)(s),c=t?g:l.ORDER;(0,ri.aInRange)("pointHex.y",o,rn,c);let d=y(o*o),{isValid:h,value:f}=v(y(d-rs),y(r*d-i));if(!h)throw Error("Point.fromHex: invalid y coordinate");let p=(f&rs)===rs,m=(128&a)!=0;if(!t&&f===rn&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==p&&(f=y(-f)),A.fromAffine({x:f,y:o})}static fromPrivateKey(e){let{scalar:t}=P(e);return M.multiply(t)}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=(0,ri.numberToBytesLE)(t,l.BYTES);return r[r.length-1]|=e&rs?128:0,r}toHex(){return(0,ri.bytesToHex)(this.toRawBytes())}}A.BASE=new A(u.Gx,u.Gy,rs,y(u.Gx*u.Gy)),A.ZERO=new A(rn,rs,rs,rn);let{BASE:M,ZERO:I}=A,B=(0,rt.wNAF)(A,8*p);function T(e){return(0,rr.mod)(e,c)}function O(e){return T((0,ri.bytesToNumberLE)(e))}function P(e){let t=l.BYTES;e=(0,ri.ensureBytes)("private key",e,t);let r=(0,ri.ensureBytes)("hashed private key",h(e),2*t),i=w(r.slice(0,t)),n=r.slice(t,2*t),s=O(i);return{head:i,prefix:n,scalar:s}}function R(e){let{head:t,prefix:r,scalar:i}=P(e),n=M.multiply(i),s=n.toRawBytes();return{head:t,prefix:r,scalar:i,point:n,pointBytes:s}}function U(e=Uint8Array.of(),...t){return O(h(x((0,ri.concatBytes)(...t),(0,ri.ensureBytes)("context",e),!!d)))}return M._setWindowSize(8),{CURVE:u,getPublicKey:function(e){return R(e).pointBytes},sign:function(e,t,r={}){e=(0,ri.ensureBytes)("message",e),d&&(e=d(e));let{prefix:i,scalar:n,pointBytes:s}=R(t),a=U(r.context,i,e),o=M.multiply(a).toRawBytes(),u=T(a+U(r.context,o,s,e)*n);(0,ri.aInRange)("signature.s",u,rn,c);let h=(0,ri.concatBytes)(o,(0,ri.numberToBytesLE)(u,l.BYTES));return(0,ri.ensureBytes)("result",h,2*l.BYTES)},verify:function(e,t,r,i=ru){let n,s,a,{context:o,zip215:u}=i,c=l.BYTES;e=(0,ri.ensureBytes)("signature",e,2*c),t=(0,ri.ensureBytes)("message",t),r=(0,ri.ensureBytes)("publicKey",r,c),void 0!==u&&(0,ri.abool)("zip215",u),d&&(t=d(t));let h=(0,ri.bytesToNumberLE)(e.slice(c,2*c));try{n=A.fromHex(r,u),s=A.fromHex(e.slice(0,c),u),a=M.multiplyUnsafe(h)}catch(e){return!1}if(!u&&n.isSmallOrder())return!1;let f=U(o,s.toRawBytes(),n.toRawBytes(),t);return s.add(n.multiplyUnsafe(f)).subtract(a).clearCofactor().equals(A.ZERO)},ExtendedPoint:A,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>f(l.BYTES),precompute:(e=8,t=A.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:rv.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rv,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ry,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t7.sha512,randomBytes:re.randomBytes,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:rb}),rx=(rv.ORDER+rm)/ry,rk=rv.pow(rp,rx),r_=rv.sqrt(rv.neg(rv.ONE)),rS=(0,rr.FpSqrtEven)(rv,rv.neg(BigInt(486664)));(0,rl.createHasher)(rw.ExtendedPoint,e=>(function(e){let t,r,i,n,s,a,o,u,l,c,d,h,f,p,m,g,y,b,v,w,x,k,_,{xMn:S,xMd:E,yMn:A,yMd:M}=(t=(rv.ORDER-rg)/ry,r=BigInt(486662),i=rv.sqr(e),i=rv.mul(i,rp),n=rv.add(i,rv.ONE),s=rv.neg(r),a=rv.sqr(n),o=rv.mul(a,n),u=rv.mul(i,r),u=rv.mul(u,s),u=rv.add(u,a),u=rv.mul(u,s),l=rv.sqr(o),a=rv.sqr(l),l=rv.mul(l,o),l=rv.mul(l,u),a=rv.mul(a,l),c=rv.pow(a,t),c=rv.mul(c,l),d=rv.mul(c,r_),a=rv.sqr(c),a=rv.mul(a,o),h=rv.eql(a,u),f=rv.cmov(d,c,h),p=rv.mul(s,i),m=rv.mul(c,e),m=rv.mul(m,rk),g=rv.mul(m,r_),y=rv.mul(u,i),a=rv.sqr(m),a=rv.mul(a,o),b=rv.eql(a,y),v=rv.cmov(g,m,b),a=rv.sqr(f),a=rv.mul(a,o),w=rv.eql(a,u),x=rv.cmov(p,s,w),k=rv.cmov(v,f,w),_=rv.isOdd(k),{xMn:x,xMd:n,yMn:k=rv.cmov(k,rv.neg(k),w!==_),yMd:rf}),I=rv.mul(S,M);I=rv.mul(I,rS);let B=rv.mul(E,A),T=rv.sub(S,E),O=rv.add(S,E),P=rv.mul(B,O),R=rv.eql(P,rv.ZERO);I=rv.cmov(I,rv.ZERO,R),B=rv.cmov(B,rv.ONE,R),T=rv.cmov(T,rv.ONE,R),O=rv.cmov(O,rv.ONE,R);let[U,L]=(0,rr.FpInvertBatch)(rv,[B,O],!0);return{x:rv.mul(I,U),y:rv.mul(T,L)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:rv.ORDER,m:1,k:128,expand:"xmd",hash:t7.sha512});var rE=e.i(464667),rA=e.i(492800),rM=e.i(899790),rI=e.i(408893),rB=e.i(650797);function rT([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}e.i(60126);var rO=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(rT).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function rP(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var rR=((ty=rR||{})[ty.Little=0]="Little",ty[ty.Big=1]="Big",ty);function rU(e){return e?.endian!==1}class rL extends TypeError{constructor(e,t){let r;const{message:i,explanation:n,...s}=e,{path:a}=e,o=0===a.length?i:`At path: ${a.join(".")} -- ${i}`;super(n??o),null!=n&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function rj(e){return"object"==typeof e&&null!=e}function rC(e){return rj(e)&&!Array.isArray(e)}function rN(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*rz(e,t,r,i){var n;for(let s of(rj(n=e)&&"function"==typeof n[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:s}=t,{type:a}=r,{refinement:o,message:u=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${rN(i)}\``}=e;return{value:i,type:a,refinement:o,key:n[n.length-1],path:n,branch:s,...e,message:u}}(s,t,r,i);e&&(yield e)}}function*rZ(e,t,r={}){let{path:i=[],branch:n=[e],coerce:s=!1,mask:a=!1}=r,o={path:i,branch:n,mask:a};s&&(e=t.coercer(e,o));let u="valid";for(let i of t.validator(e,o))i.explanation=r.message,u="not_valid",yield[i,void 0];for(let[l,c,d]of t.entries(e,o))for(let t of rZ(c,d,{path:void 0===l?i:[...i,l],branch:void 0===l?n:[...n,c],coerce:s,mask:a,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(c=t[1],void 0===l?e=c:e instanceof Map?e.set(l,c):e instanceof Set?e.add(c):rj(e)&&(void 0!==c||l in e)&&(e[l]=c));if("not_valid"!==u)for(let i of t.refiner(e,o))i.explanation=r.message,u="not_refined",yield[i,void 0];"valid"===u&&(yield[void 0,e])}class rW{constructor(e){const{type:t,schema:r,validator:i,refiner:n,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(e,t)=>rz(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>rz(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,i=this,n=t;let s=rD(r,i,{message:n});if(s[0])throw s[0]}create(e,t){return r$(e,this,t)}is(e){var t,r;return t=e,r=this,!rD(t,r)[0]}mask(e,t){var r=e,i=this,n=t;let s=rD(r,i,{coerce:!0,mask:!0,message:n});if(!s[0])return s[1];throw s[0]}validate(e,t={}){return rD(e,this,t)}}function r$(e,t,r){let i=rD(e,t,{coerce:!0,message:r});if(!i[0])return i[1];throw i[0]}function rD(e,t,r={}){let i=rZ(e,t,r),n=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return n[0]?[new rL(n[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,n[1]]}function rF(e,t){return new rW({type:e,schema:null,validator:t})}function rK(e){return new rW({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${rN(e)}`})}function rq(){return rF("boolean",e=>"boolean"==typeof e)}function rV(e){return rF("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${rN(t)}`)}function rJ(e){let t=rN(e),r=typeof e;return new rW({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${rN(r)}`})}function rH(e){return new rW({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function rG(){return rF("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${rN(e)}`)}function rY(e){return new rW({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function rX(e,t){return new rW({type:"record",schema:null,*entries(r){if(rj(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>rC(e)||`Expected an object, but received: ${rN(e)}`,coercer:e=>rC(e)?{...e}:e})}function rQ(){return rF("string",e=>"string"==typeof e||`Expected a string, but received: ${rN(e)}`)}function r0(e){let t=rF("never",()=>!1);return new rW({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${rN(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function r1(e){let t=Object.keys(e);return new rW({type:"type",schema:e,*entries(r){if(rj(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>rC(e)||`Expected an object, but received: ${rN(e)}`,coercer:e=>rC(e)?{...e}:e})}function r2(e){let t=e.map(e=>e.type).join(" | ");return new rW({type:"union",schema:null,coercer(t,r){for(let i of e){let[e,n]=i.validate(t,{coerce:!0,mask:r.mask});if(!e)return n}return t},validator(r,i){let n=[];for(let t of e){let[...e]=rZ(r,t,i),[s]=e;if(!s[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${rN(r)}`,...n]}})}function r6(){return rF("unknown",()=>!0)}function r3(e,t,r){return new rW({...e,coercer:(i,n)=>rD(i,t)[0]?e.coercer(i,n):e.coercer(r(i,n),n)})}e.i(893641);var r5=e.i(981731),r4=e.i(748040);r4.EventEmitter;r4.EventEmitter;var r8=e.i(322990),r9=e.i(58941);rw.utils.randomPrivateKey;let r7=()=>{let e=rw.utils.randomPrivateKey(),t=ie(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},ie=rw.getPublicKey;function it(e){try{return rw.ExtendedPoint.fromHex(e),!0}catch{return!1}}let ir=(e,t)=>rw.sign(e,t.slice(0,32)),ii=rw.verify,is=e=>t9.Buffer.isBuffer(e)?e:e instanceof Uint8Array?t9.Buffer.from(e.buffer,e.byteOffset,e.byteLength):t9.Buffer.from(e);class ia{constructor(e){Object.assign(this,e)}encode(){return t9.Buffer.from((0,rI.serialize)(io,this))}static decode(e){return(0,rI.deserialize)(io,this,e)}static decodeUnchecked(e){return(0,rI.deserializeUnchecked)(io,this,e)}}let io=new Map,iu=1;class il extends ia{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){const t=rA.default.decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new rE.default(t)}else this._bn=new rE.default(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new il(iu);return iu+=1,new il(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return rA.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(t9.Buffer);if(32===e.length)return e;let t=t9.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let i=t9.Buffer.concat([e.toBuffer(),t9.Buffer.from(t),r.toBuffer()]);return new il((0,rM.sha256)(i))}static createProgramAddressSync(e,t){let r=t9.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=t9.Buffer.concat([r,is(e)])}),r=t9.Buffer.concat([r,t.toBuffer(),t9.Buffer.from("ProgramDerivedAddress")]);let i=(0,rM.sha256)(r);if(it(i))throw Error("Invalid seeds, address must fall off the curve");return new il(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,i=255;for(;0!=i;){try{let n=e.concat(t9.Buffer.from([i]));r=this.createProgramAddressSync(n,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[r,i]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return it(new il(e).toBytes())}}il.default=new il("11111111111111111111111111111111"),io.set(il,{kind:"struct",fields:[["_bn","u256"]]}),new il("BPFLoader1111111111111111111111111111111111"),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredBlockheightExceededError"}),Object.defineProperty((class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredTimeoutError"}),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ic{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments())if(e<t.length)return t[e];else e-=t.length}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let id=(e="publicKey")=>rB.blob(32,e),ih=(e="string")=>{let t=rB.struct([rB.u32("length"),rB.u32("lengthPadding"),rB.blob(rB.offset(rB.u32(),-8),"chars")],e),r=t.decode.bind(t),i=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString(),t.encode=(e,t,r)=>i({chars:t9.Buffer.from(e,"utf8")},t,r),t.alloc=e=>rB.u32().span+rB.u32().span+t9.Buffer.from(e,"utf8").length,t};function ip(e){let t=0,r=0;for(;;){let i=e.shift();if(t|=(127&i)<<7*r,r+=1,(128&i)==0)break}return t}function im(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function ig(e,t){if(!e)throw Error(t||"Assertion failed")}class iy{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,i=e=>{let t=e.toBase58(),i=r.get(t);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,i)),i},n=i(t);for(let t of(n.isSigner=!0,n.isWritable=!0,e))for(let e of(i(t.programId).isInvoked=!0,t.keys)){let t=i(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new iy(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];ig(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),i=e.filter(([,e])=>!e.isSigner&&e.isWritable),n=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:n.length};{ig(t.length>0,"Expected at least one writable signer key");let[e]=t[0];ig(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new il(e)),...r.map(([e])=>new il(e)),...i.map(([e])=>new il(e)),...n.map(([e])=>new il(e))]]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[i,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==i.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:n}]}drainKeysFoundInLookupTable(e,t){let r=[],i=[];for(let[n,s]of this.keyMetaMap.entries())if(t(s)){let t=new il(n),s=e.findIndex(e=>e.equals(t));s>=0&&(ig(s<256,"Max lookup table index exceeded"),r.push(s),i.push(t),this.keyMetaMap.delete(n))}return[r,i]}}let ib="Reached end of buffer unexpectedly";function iv(e){if(0===e.length)throw Error(ib);return e.shift()}function iw(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(ib);return e.splice(...t)}class ix{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new il(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:rA.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ic(this.staticAccountKeys)}static compile(e){let[t,r]=iy.compile(e.instructions,e.payerKey).getMessageComponents(),i=new ic(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:rA.default.encode(e.data)}));return new ix({header:t,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];im(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,i=Array.from(rA.default.decode(e.data)),n=[];im(n,t.length);let s=[];return im(s,i.length),{programIdIndex:r,keyIndicesCount:t9.Buffer.from(n),keyIndices:t,dataLength:t9.Buffer.from(s),data:i}}),i=[];im(i,r.length);let n=t9.Buffer.alloc(1232);t9.Buffer.from(i).copy(n);let s=i.length;r.forEach(e=>{let t=rB.struct([rB.u8("programIdIndex"),rB.blob(e.keyIndicesCount.length,"keyIndicesCount"),rB.seq(rB.u8("keyIndex"),e.keyIndices.length,"keyIndices"),rB.blob(e.dataLength.length,"dataLength"),rB.seq(rB.u8("userdatum"),e.data.length,"data")]).encode(e,n,s);s+=t}),n=n.slice(0,s);let a=rB.struct([rB.blob(1,"numRequiredSignatures"),rB.blob(1,"numReadonlySignedAccounts"),rB.blob(1,"numReadonlyUnsignedAccounts"),rB.blob(t.length,"keyCount"),rB.seq(id("key"),e,"keys"),id("recentBlockhash")]),o={numRequiredSignatures:t9.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:t9.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:t9.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:t9.Buffer.from(t),keys:this.accountKeys.map(e=>is(e.toBytes())),recentBlockhash:rA.default.decode(this.recentBlockhash)},u=t9.Buffer.alloc(2048),l=a.encode(o,u);return n.copy(u,l),u.slice(0,l+n.length)}static from(e){let t=[...e],r=iv(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=iv(t),n=iv(t),s=ip(t),a=[];for(let e=0;e<s;e++){let e=iw(t,0,32);a.push(new il(t9.Buffer.from(e)))}let o=iw(t,0,32),u=ip(t),l=[];for(let e=0;e<u;e++){let e=iv(t),r=ip(t),i=iw(t,0,r),n=ip(t),s=iw(t,0,n),a=rA.default.encode(t9.Buffer.from(s));l.push({programIdIndex:e,accounts:i,data:a})}return new ix({header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:n},recentBlockhash:rA.default.encode(t9.Buffer.from(o)),accountKeys:a,instructions:l})}}class ik{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new ic(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r)return e-r<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let i=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let i=e.find(e=>e.key.equals(r.accountKey));if(!i)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<i.state.addresses.length)t.writable.push(i.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<i.state.addresses.length)t.readonly.push(i.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=iy.compile(e.instructions,e.payerKey),r=[],i={writable:[],readonly:[]};for(let n of e.addressLookupTableAccounts||[]){let e=t.extractTableLookup(n);if(void 0!==e){let[t,{writable:n,readonly:s}]=e;r.push(t),i.writable.push(...n),i.readonly.push(...s)}}let[n,s]=t.getMessageComponents(),a=new ic(s,i).compileInstructions(e.instructions);return new ik({header:n,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){let e=[];im(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];im(r,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),n=[];im(n,this.addressTableLookups.length);let s=rB.struct([rB.u8("prefix"),rB.struct([rB.u8("numRequiredSignatures"),rB.u8("numReadonlySignedAccounts"),rB.u8("numReadonlyUnsignedAccounts")],"header"),rB.blob(e.length,"staticAccountKeysLength"),rB.seq(id(),this.staticAccountKeys.length,"staticAccountKeys"),id("recentBlockhash"),rB.blob(r.length,"instructionsLength"),rB.blob(t.length,"serializedInstructions"),rB.blob(n.length,"addressTableLookupsLength"),rB.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(1232),o=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:rA.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(n),serializedAddressTableLookups:i},a);return a.slice(0,o)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let i=[];im(i,r.accountKeyIndexes.length);let n=[];im(n,r.data.length);let s=rB.struct([rB.u8("programIdIndex"),rB.blob(i.length,"encodedAccountKeyIndexesLength"),rB.seq(rB.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),rB.blob(n.length,"encodedDataLength"),rB.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(n),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let i=[];im(i,r.writableIndexes.length);let n=[];im(n,r.readonlyIndexes.length);let s=rB.struct([id("accountKey"),rB.blob(i.length,"encodedWritableIndexesLength"),rB.seq(rB.u8(),r.writableIndexes.length,"writableIndexes"),rB.blob(n.length,"encodedReadonlyIndexesLength"),rB.seq(rB.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(n),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=iv(t),i=127&r;ig(r!==i,"Expected versioned message but received legacy message"),ig(0===i,`Expected versioned message with version 0 but found version ${i}`);let n={numRequiredSignatures:iv(t),numReadonlySignedAccounts:iv(t),numReadonlyUnsignedAccounts:iv(t)},s=[],a=ip(t);for(let e=0;e<a;e++)s.push(new il(iw(t,0,32)));let o=rA.default.encode(iw(t,0,32)),u=ip(t),l=[];for(let e=0;e<u;e++){let e=iv(t),r=ip(t),i=iw(t,0,r),n=ip(t),s=new Uint8Array(iw(t,0,n));l.push({programIdIndex:e,accountKeyIndexes:i,data:s})}let c=ip(t),d=[];for(let e=0;e<c;e++){let e=new il(iw(t,0,32)),r=ip(t),i=iw(t,0,r),n=ip(t),s=iw(t,0,n);d.push({accountKey:e,writableIndexes:i,readonlyIndexes:s})}return new ik({header:n,staticAccountKeys:s,recentBlockhash:o,compiledInstructions:l,addressTableLookups:d})}}let i_={deserializeMessageVersion(e){let t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{let t=i_.deserializeMessageVersion(e);if("legacy"===t)return ix.from(e);if(0===t)return ik.deserialize(e);throw Error(`Transaction message version ${t} deserialization is not supported`)}},iS=t9.Buffer.alloc(64).fill(0);class iE{constructor(e){this.keys=void 0,this.programId=void 0,this.data=t9.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class iA{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new iE(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let i=[],n=[];t.forEach(e=>{e.keys.forEach(e=>{n.push({...e})});let t=e.programId.toString();i.includes(t)||i.push(t)}),i.forEach(e=>{n.push({pubkey:new il(e),isSigner:!1,isWritable:!1})});let s=[];n.forEach(e=>{let t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let a=s.findIndex(e=>e.pubkey.equals(r));if(a>-1){let[e]=s.splice(a,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let o=0,u=0,l=0,c=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(c.push(e.toString()),o+=1,r||(u+=1)):(d.push(e.toString()),r||(l+=1))});let h=c.concat(d),f=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:rA.default.encode(t)}});return f.forEach(e=>{ig(e.programIdIndex>=0),e.accounts.forEach(e=>ig(e>=0))}),new ix({header:{numRequiredSignatures:o,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))?e:(this.signatures=t.map(e=>({signature:null,publicKey:e})),e)}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let i of e){let e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let i of e){let e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}let i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=ir(r,e.secretKey);this._addSignature(e.publicKey,is(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ig(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=t9.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:i,publicKey:n}of this.signatures)null===i?t&&(r.missing||=[]).push(n):ii(i,e,n.toBytes())||(r.invalid||=[]).push(n);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(i,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(i)}_serialize(e){let{signatures:t}=this,r=[];im(r,t.length);let i=r.length+64*t.length+e.length,n=t9.Buffer.alloc(i);return ig(t.length<256),t9.Buffer.from(r).copy(n,0),t.forEach(({signature:e},t)=>{null!==e&&(ig(64===e.length,"signature has invalid length"),t9.Buffer.from(e).copy(n,r.length+64*t))}),e.copy(n,r.length+64*t.length),ig(n.length<=1232,`Transaction too large: ${n.length} > 1232`),n}get keys(){return ig(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ig(1===this.instructions.length),this.instructions[0].programId}get data(){return ig(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=ip(t),i=[];for(let e=0;e<r;e++){let e=iw(t,0,64);i.push(rA.default.encode(t9.Buffer.from(e)))}return iA.populate(ix.from(t),i)}static populate(e,t=[]){let r=new iA;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,i)=>{let n={signature:t==rA.default.encode(iS)?null:rA.default.decode(t),publicKey:e.accountKeys[i]};r.signatures.push(n)}),e.instructions.forEach(t=>{let i=t.accounts.map(t=>{let i=e.accountKeys[t];return{pubkey:i,isSigner:r.signatures.some(e=>e.publicKey.toString()===i.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new iE({keys:i,programId:e.accountKeys[t.programIdIndex],data:rA.default.decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class iM{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)ig(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){let e=this.message.serialize(),t=[];im(t,this.signatures.length);let r=rB.struct([rB.blob(t.length,"encodedSignaturesLength"),rB.seq(((e="signature")=>rB.blob(64,e))(),this.signatures.length,"signatures"),rB.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),n=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,n)}static deserialize(e){let t=[...e],r=[],i=ip(t);for(let e=0;e<i;e++)r.push(new Uint8Array(iw(t,0,64)));return new iM(i_.deserialize(new Uint8Array(t)),r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let e=r.findIndex(e=>e.equals(i.publicKey));ig(e>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[e]=ir(t,i.secretKey)}}addSignature(e,t){ig(64===t.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));ig(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}let iI=new il("SysvarC1ock11111111111111111111111111111111");new il("SysvarEpochSchedu1e111111111111111111111111"),new il("Sysvar1nstructions1111111111111111111111111");let iB=new il("SysvarRecentB1ockHashes11111111111111111111"),iT=new il("SysvarRent111111111111111111111111111111111");new il("SysvarRewards111111111111111111111111111111"),new il("SysvarS1otHashes111111111111111111111111111"),new il("SysvarS1otHistory11111111111111111111111111");let iO=new il("SysvarStakeHistory1111111111111111111111111");class iP extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){let n;const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":n=`Transaction ${t} resulted in an error. 
${r}. `+s+a;break;case"simulate":n=`Simulation failed. 
Message: ${r}. 
`+s+a;break;default:n=`Unknown action '${e}'`}super(n),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}async function iR(e,t,r,i){let n,s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},a=await e.sendTransaction(t,r,s);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)n=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:a,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;n=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:a},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),n=(await e.confirmTransaction(a,i&&i.commitment)).value;if(n.err){if(null!=a)throw new iP({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(n)})`});throw Error(`Transaction ${a} failed (${JSON.stringify(n)})`)}return a}function iU(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let i=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*i(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},n=0;return t.layout.fields.forEach(e=>{n+=i(e)}),n}(e,t),i=t9.Buffer.alloc(r),n=Object.assign({instruction:e.index},t);return e.layout.encode(n,i),i}let iL=rB.nu64("lamportsPerSignature"),ij=rB.struct([rB.u32("version"),rB.u32("state"),id("authorizedPubkey"),id("nonce"),rB.struct([iL],"feeCalculator")]).span;function iC(e){let t=(0,rB.blob)(8,e),r=t.decode.bind(t),i=t.encode.bind(t),n=((e={})=>(function(e,t){if(rP(e)!==rP(t))throw new rO(8078004);if(rP(e)&&rP(t)&&e.fixedSize!==t.fixedSize)throw new rO(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!rP(e)&&!rP(t)&&e.maxSize!==t.maxSize)throw new rO(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,i){t.range&&function(e,t,r,i){if(i<t||i>r)throw new rO(8078011,{codecDescription:e,max:r,min:t,value:i})}(t.name,t.range[0],t.range[1],e);let n=new ArrayBuffer(t.size);return t.set(new DataView(n),e,rU(t.config)),r.set(new Uint8Array(n),i),i+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})})(e),((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){var i,n,s;let a,o;!function(e,t,r=0){if(t.length-r<=0)throw new rO(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,i=0){let n=r.length-i;if(n<t)throw new rO(8078001,{bytesLength:n,codecDescription:e,expected:t})}(t.name,t.size,e,r);let u=new DataView((i=e,n=r,s=t.size,a=i.byteOffset+(n??0),o=s??i.byteLength,i.buffer.slice(a,a+o)));return[t.get(u,rU(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})})(e)))();return t.decode=(e,t)=>{let i=r(e,t);return n.decode(i)},t.encode=(e,t,r)=>i(n.encode(e),t,r),t}let iN=Object.freeze({Create:{index:0,layout:rB.struct([rB.u32("instruction"),rB.ns64("lamports"),rB.ns64("space"),id("programId")])},Assign:{index:1,layout:rB.struct([rB.u32("instruction"),id("programId")])},Transfer:{index:2,layout:rB.struct([rB.u32("instruction"),iC("lamports")])},CreateWithSeed:{index:3,layout:rB.struct([rB.u32("instruction"),id("base"),ih("seed"),rB.ns64("lamports"),rB.ns64("space"),id("programId")])},AdvanceNonceAccount:{index:4,layout:rB.struct([rB.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:rB.struct([rB.u32("instruction"),rB.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:rB.struct([rB.u32("instruction"),id("authorized")])},AuthorizeNonceAccount:{index:7,layout:rB.struct([rB.u32("instruction"),id("authorized")])},Allocate:{index:8,layout:rB.struct([rB.u32("instruction"),rB.ns64("space")])},AllocateWithSeed:{index:9,layout:rB.struct([rB.u32("instruction"),id("base"),ih("seed"),rB.ns64("space"),id("programId")])},AssignWithSeed:{index:10,layout:rB.struct([rB.u32("instruction"),id("base"),ih("seed"),id("programId")])},TransferWithSeed:{index:11,layout:rB.struct([rB.u32("instruction"),iC("lamports"),ih("seed"),id("programId")])},UpgradeNonceAccount:{index:12,layout:rB.struct([rB.u32("instruction")])}});class iz{constructor(){}static createAccount(e){let t=iU(iN.Create,{lamports:e.lamports,space:e.space,programId:is(e.programId.toBuffer())});return new iE({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=iU(iN.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:is(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=iU(iN.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new iE({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=iU(iN.AssignWithSeed,{base:is(e.basePubkey.toBuffer()),seed:e.seed,programId:is(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=iU(iN.Assign,{programId:is(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new iE({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=iU(iN.CreateWithSeed,{base:is(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:is(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new iE({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){let t=new iA;"basePubkey"in e&&"seed"in e?t.add(iz.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ij,programId:this.programId})):t.add(iz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ij,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=iU(iN.InitializeNonceAccount,{authorized:is(e.authorizedPubkey.toBuffer())});return new iE({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:iB,isSigner:!1,isWritable:!1},{pubkey:iT,isSigner:!1,isWritable:!1}],programId:this.programId,data:t})}static nonceAdvance(e){let t=iU(iN.AdvanceNonceAccount);return new iE({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:iB,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceWithdraw(e){let t=iU(iN.WithdrawNonceAccount,{lamports:e.lamports});return new iE({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:iB,isSigner:!1,isWritable:!1},{pubkey:iT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){let t=iU(iN.AuthorizeNonceAccount,{authorized:is(e.newAuthorizedPubkey.toBuffer())});return new iE({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=iU(iN.AllocateWithSeed,{base:is(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:is(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=iU(iN.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new iE({keys:r,programId:this.programId,data:t})}}iz.programId=new il("11111111111111111111111111111111");class iZ{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/iZ.chunkSize)+1+1)}static async load(e,t,r,i,n){{let s=await e.getMinimumBalanceForRentExemption(n.length),a=await e.getAccountInfo(r.publicKey,"confirmed"),o=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==n.length&&(o=o||new iA).add(iz.allocate({accountPubkey:r.publicKey,space:n.length})),a.owner.equals(i)||(o=o||new iA).add(iz.assign({accountPubkey:r.publicKey,programId:i})),a.lamports<s&&(o=o||new iA).add(iz.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-a.lamports}))}else o=new iA().add(iz.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:n.length,programId:i}));null!==o&&await iR(e,o,[t,r],{commitment:"confirmed"})}let s=rB.struct([rB.u32("instruction"),rB.u32("offset"),rB.u32("bytesLength"),rB.u32("bytesLengthPadding"),rB.seq(rB.u8("byte"),rB.offset(rB.u32(),-8),"bytes")]),a=iZ.chunkSize,o=0,u=n,l=[];for(;u.length>0;){let n=u.slice(0,a),c=t9.Buffer.alloc(a+16);s.encode({instruction:0,offset:o,bytes:n,bytesLength:0,bytesLengthPadding:0},c);let d=new iA().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:c});l.push(iR(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await new Promise(e=>setTimeout(e,250)),o+=a,u=u.slice(a)}await Promise.all(l);{let n=rB.struct([rB.u32("instruction")]),s=t9.Buffer.alloc(n.span);n.encode({instruction:1},s);let a=new iA().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:iT,isSigner:!1,isWritable:!1}],programId:i,data:s}),o="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:o}),{context:l,value:c}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},o);if(c.err)throw Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{if(await e.getSlot({commitment:o})>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}iZ.chunkSize=932,new il("BPFLoader2111111111111111111111111111111111"),rB.struct([rB.u32("typeIndex"),iC("deactivationSlot"),rB.nu64("lastExtendedSlot"),rB.u8("lastExtendedStartIndex"),rB.u8(),rB.seq(id(),rB.offset(rB.u8(),-1),"authority")]);let iW=r3(rV(il),rQ(),e=>new il(e)),i$=r0([rQ(),rJ("base64")]),iD=r3(rV(t9.Buffer),i$,e=>t9.Buffer.from(e[0],"base64"));function iF(e){return r2([r1({jsonrpc:rJ("2.0"),id:rQ(),result:e}),r1({jsonrpc:rJ("2.0"),id:rQ(),error:r1({code:r6(),message:rQ(),data:rY(rF("any",()=>!0))})})])}let iK=iF(r6());function iq(e){return r3(iF(e),iK,t=>"error"in t?t:{...t,result:r$(t.result,e)})}function iV(e){return iq(r1({context:r1({slot:rG()}),value:e}))}function iJ(e){return r1({context:r1({slot:rG()}),value:e})}let iH=r1({foundation:rG(),foundationTerm:rG(),initial:rG(),taper:rG(),terminal:rG()});iq(rK(rH(r1({epoch:rG(),effectiveSlot:rG(),amount:rG(),postBalance:rG(),commission:rY(rH(rG()))}))));let iG=rK(r1({slot:rG(),prioritizationFee:rG()})),iY=r1({total:rG(),validator:rG(),foundation:rG(),epoch:rG()}),iX=r1({epoch:rG(),slotIndex:rG(),slotsInEpoch:rG(),absoluteSlot:rG(),blockHeight:rY(rG()),transactionCount:rY(rG())}),iQ=r1({slotsPerEpoch:rG(),leaderScheduleSlotOffset:rG(),warmup:rq(),firstNormalEpoch:rG(),firstNormalSlot:rG()}),i0=rX(rQ(),rK(rG())),i1=rH(r2([r1({}),rQ()])),i2=r1({err:i1}),i6=rJ("receivedSignature");r1({"solana-core":rQ(),"feature-set":rY(rG())});let i3=r1({program:rQ(),programId:iW,parsed:r6()}),i5=r1({programId:iW,accounts:rK(iW),data:rQ()});iV(r1({err:rH(r2([r1({}),rQ()])),logs:rH(rK(rQ())),accounts:rY(rH(rK(rH(r1({executable:rq(),owner:rQ(),lamports:rG(),data:rK(rQ()),rentEpoch:rY(rG())}))))),unitsConsumed:rY(rG()),returnData:rY(rH(r1({programId:rQ(),data:r0([rQ(),rJ("base64")])}))),innerInstructions:rY(rH(rK(r1({index:rG(),instructions:rK(r2([i3,i5]))}))))})),iV(r1({byIdentity:rX(rQ(),rK(rG())),range:r1({firstSlot:rG(),lastSlot:rG()})})),iq(iH),iq(iY),iq(iG),iq(iX),iq(iQ),iq(i0),iq(rG()),iV(r1({total:rG(),circulating:rG(),nonCirculating:rG(),nonCirculatingAccounts:rK(iW)}));let i4=r1({amount:rQ(),uiAmount:rH(rG()),decimals:rG(),uiAmountString:rY(rQ())});iV(rK(r1({address:iW,amount:rQ(),uiAmount:rH(rG()),decimals:rG(),uiAmountString:rY(rQ())}))),iV(rK(r1({pubkey:iW,account:r1({executable:rq(),owner:iW,lamports:rG(),data:iD,rentEpoch:rG()})})));let i8=r1({program:rQ(),parsed:r6(),space:rG()});iV(rK(r1({pubkey:iW,account:r1({executable:rq(),owner:iW,lamports:rG(),data:i8,rentEpoch:rG()})}))),iV(rK(r1({lamports:rG(),address:iW})));let i9=r1({executable:rq(),owner:iW,lamports:rG(),data:iD,rentEpoch:rG()});r1({pubkey:iW,account:i9});let i7=r3(r2([rV(t9.Buffer),i8]),r2([i$,i8]),e=>Array.isArray(e)?r$(e,iD):e),ne=r1({executable:rq(),owner:iW,lamports:rG(),data:i7,rentEpoch:rG()});r1({pubkey:iW,account:ne}),r1({state:r2([rJ("active"),rJ("inactive"),rJ("activating"),rJ("deactivating")]),active:rG(),inactive:rG()}),iq(rK(r1({signature:rQ(),slot:rG(),err:i1,memo:rH(rQ()),blockTime:rY(rH(rG()))}))),iq(rK(r1({signature:rQ(),slot:rG(),err:i1,memo:rH(rQ()),blockTime:rY(rH(rG()))}))),r1({subscription:rG(),result:iJ(i9)});let nt=r1({pubkey:iW,account:i9});r1({subscription:rG(),result:iJ(nt)});let nr=r1({parent:rG(),slot:rG(),root:rG()});r1({subscription:rG(),result:nr});let ni=r2([r1({type:r2([rJ("firstShredReceived"),rJ("completed"),rJ("optimisticConfirmation"),rJ("root")]),slot:rG(),timestamp:rG()}),r1({type:rJ("createdBank"),parent:rG(),slot:rG(),timestamp:rG()}),r1({type:rJ("frozen"),slot:rG(),timestamp:rG(),stats:r1({numTransactionEntries:rG(),numSuccessfulTransactions:rG(),numFailedTransactions:rG(),maxTransactionsPerEntry:rG()})}),r1({type:rJ("dead"),slot:rG(),timestamp:rG(),err:rQ()})]);r1({subscription:rG(),result:ni}),r1({subscription:rG(),result:iJ(r2([i2,i6]))}),r1({subscription:rG(),result:rG()}),r1({pubkey:rQ(),gossip:rH(rQ()),tpu:rH(rQ()),rpc:rH(rQ()),version:rH(rQ())});let nn=r1({votePubkey:rQ(),nodePubkey:rQ(),activatedStake:rG(),epochVoteAccount:rq(),epochCredits:rK(r0([rG(),rG(),rG()])),commission:rG(),lastVote:rG(),rootSlot:rH(rG())});iq(r1({current:rK(nn),delinquent:rK(nn)}));let ns=r2([rJ("processed"),rJ("confirmed"),rJ("finalized")]),na=r1({slot:rG(),confirmations:rH(rG()),err:i1,confirmationStatus:rY(ns)});iV(rK(rH(na))),iq(rG());let no=r1({accountKey:iW,writableIndexes:rK(rG()),readonlyIndexes:rK(rG())}),nu=r1({signatures:rK(rQ()),message:r1({accountKeys:rK(rQ()),header:r1({numRequiredSignatures:rG(),numReadonlySignedAccounts:rG(),numReadonlyUnsignedAccounts:rG()}),instructions:rK(r1({accounts:rK(rG()),data:rQ(),programIdIndex:rG()})),recentBlockhash:rQ(),addressTableLookups:rY(rK(no))})}),nl=r1({pubkey:iW,signer:rq(),writable:rq(),source:rY(r2([rJ("transaction"),rJ("lookupTable")]))}),nc=r1({accountKeys:rK(nl),signatures:rK(rQ())}),nd=r1({parsed:r6(),program:rQ(),programId:iW}),nh=r1({accounts:rK(iW),data:rQ(),programId:iW}),nf=r3(r2([nh,nd]),r2([r1({parsed:r6(),program:rQ(),programId:rQ()}),r1({accounts:rK(rQ()),data:rQ(),programId:rQ()})]),e=>"accounts"in e?r$(e,nh):r$(e,nd)),np=r1({signatures:rK(rQ()),message:r1({accountKeys:rK(nl),instructions:rK(nf),recentBlockhash:rQ(),addressTableLookups:rY(rH(rK(no)))})}),nm=r1({accountIndex:rG(),mint:rQ(),owner:rY(rQ()),programId:rY(rQ()),uiTokenAmount:i4}),ng=r1({writable:rK(iW),readonly:rK(iW)}),ny=r1({err:i1,fee:rG(),innerInstructions:rY(rH(rK(r1({index:rG(),instructions:rK(r1({accounts:rK(rG()),data:rQ(),programIdIndex:rG()}))})))),preBalances:rK(rG()),postBalances:rK(rG()),logMessages:rY(rH(rK(rQ()))),preTokenBalances:rY(rH(rK(nm))),postTokenBalances:rY(rH(rK(nm))),loadedAddresses:rY(ng),computeUnitsConsumed:rY(rG()),costUnits:rY(rG())}),nb=r1({err:i1,fee:rG(),innerInstructions:rY(rH(rK(r1({index:rG(),instructions:rK(nf)})))),preBalances:rK(rG()),postBalances:rK(rG()),logMessages:rY(rH(rK(rQ()))),preTokenBalances:rY(rH(rK(nm))),postTokenBalances:rY(rH(rK(nm))),loadedAddresses:rY(ng),computeUnitsConsumed:rY(rG()),costUnits:rY(rG())}),nv=r2([rJ(0),rJ("legacy")]),nw=r1({pubkey:rQ(),lamports:rG(),postBalance:rH(rG()),rewardType:rH(rQ()),commission:rY(rH(rG()))});iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),transactions:rK(r1({transaction:nu,meta:rH(ny),version:rY(nv)})),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),transactions:rK(r1({transaction:nc,meta:rH(ny),version:rY(nv)})),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),transactions:rK(r1({transaction:np,meta:rH(nb),version:rY(nv)})),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),transactions:rK(r1({transaction:nc,meta:rH(nb),version:rY(nv)})),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),rewards:rY(rK(nw)),blockTime:rH(rG()),blockHeight:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),transactions:rK(r1({transaction:nu,meta:rH(ny)})),rewards:rY(rK(nw)),blockTime:rH(rG())}))),iq(rH(r1({blockhash:rQ(),previousBlockhash:rQ(),parentSlot:rG(),signatures:rK(rQ()),blockTime:rH(rG())}))),iq(rH(r1({slot:rG(),meta:rH(ny),blockTime:rY(rH(rG())),transaction:nu,version:rY(nv)}))),iq(rH(r1({slot:rG(),transaction:np,meta:rH(nb),blockTime:rY(rH(rG())),version:rY(nv)}))),iV(r1({blockhash:rQ(),lastValidBlockHeight:rG()})),iV(rq()),iq(rK(r1({slot:rG(),numTransactions:rG(),numSlots:rG(),samplePeriodSecs:rG()}))),iV(rH(r1({feeCalculator:r1({lamportsPerSignature:rG()})}))),iq(rQ()),iq(rQ());let nx=r1({err:i1,logs:rK(rQ()),signature:rQ()});r1({result:iJ(nx),subscription:rG()});class nk{constructor(e){this._keypair=void 0,this._keypair=e??r7()}static generate(){return new nk(r7())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=ie(e.slice(0,32));for(let e=0;e<32;e++)if(r[e]!==t[e])throw Error("provided secretKey is invalid")}return new nk({publicKey:r,secretKey:e})}static fromSeed(e){let t=ie(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new nk({publicKey:t,secretKey:r})}get publicKey(){return new il(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:rB.struct([rB.u32("instruction"),iC("recentSlot"),rB.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:rB.struct([rB.u32("instruction")])},ExtendLookupTable:{index:2,layout:rB.struct([rB.u32("instruction"),iC(),rB.seq(id(),rB.offset(rB.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:rB.struct([rB.u32("instruction")])},CloseLookupTable:{index:4,layout:rB.struct([rB.u32("instruction")])}}),new il("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:rB.struct([rB.u8("instruction"),rB.u32("units"),rB.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:rB.struct([rB.u8("instruction"),rB.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:rB.struct([rB.u8("instruction"),rB.u32("units")])},SetComputeUnitPrice:{index:3,layout:rB.struct([rB.u8("instruction"),iC("microLamports")])}}),new il("ComputeBudget111111111111111111111111111111");let n_=rB.struct([rB.u8("numSignatures"),rB.u8("padding"),rB.u16("signatureOffset"),rB.u16("signatureInstructionIndex"),rB.u16("publicKeyOffset"),rB.u16("publicKeyInstructionIndex"),rB.u16("messageDataOffset"),rB.u16("messageDataSize"),rB.u16("messageInstructionIndex")]);class nS{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,instructionIndex:n}=e;ig(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),ig(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);let s=n_.span,a=s+t.length,o=a+i.length,u=t9.Buffer.alloc(o+r.length),l=null==n?65535:n;return n_.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:o,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(i,a),u.fill(r,o),new iE({keys:[],programId:nS.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;ig(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=nk.fromSecretKey(t),n=e.publicKey.toBytes(),s=ir(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:s,instructionIndex:i})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}nS.programId=new il("Ed25519SigVerify111111111111111111111111111"),r9.secp256k1.utils.isValidPrivateKey;let nE=r9.secp256k1.getPublicKey,nA=rB.struct([rB.u8("numSignatures"),rB.u16("signatureOffset"),rB.u8("signatureInstructionIndex"),rB.u16("ethAddressOffset"),rB.u8("ethAddressInstructionIndex"),rB.u16("messageDataOffset"),rB.u16("messageDataSize"),rB.u8("messageInstructionIndex"),rB.blob(20,"ethAddress"),rB.blob(64,"signature"),rB.u8("recoveryId")]);class nM{constructor(){}static publicKeyToEthAddress(e){ig(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return t9.Buffer.from((0,r8.keccak_256)(is(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,recoveryId:n,instructionIndex:s}=e;return nM.createInstructionWithEthAddress({ethAddress:nM.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:n,instructionIndex:s})}static createInstructionWithEthAddress(e){let t,{ethAddress:r,message:i,signature:n,recoveryId:s,instructionIndex:a=0}=e;ig(20===(t="string"==typeof r?r.startsWith("0x")?t9.Buffer.from(r.substr(2),"hex"):t9.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let o=12+t.length,u=o+n.length+1,l=t9.Buffer.alloc(nA.span+i.length);return nA.encode({numSignatures:1,signatureOffset:o,signatureInstructionIndex:a,ethAddressOffset:12,ethAddressInstructionIndex:a,messageDataOffset:u,messageDataSize:i.length,messageInstructionIndex:a,signature:is(n),ethAddress:is(t),recoveryId:s},l),l.fill(is(i),nA.span),new iE({keys:[],programId:nM.programId,data:l})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;ig(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{var n;let e,s=is(t),a=nE(s,!1).slice(1),[o,u]=(n=t9.Buffer.from((0,r8.keccak_256)(is(r))),[(e=r9.secp256k1.sign(n,s)).toCompactRawBytes(),e.recovery]);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,recoveryId:u,instructionIndex:i})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}nM.programId=new il("KeccakSecp256k11111111111111111111111111111");let nI=new il("StakeConfig11111111111111111111111111111111");class nB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}nB.default=new nB(0,0,il.default);let nT=Object.freeze({Initialize:{index:0,layout:rB.struct([rB.u32("instruction"),((e="authorized")=>rB.struct([id("staker"),id("withdrawer")],e))(),((e="lockup")=>rB.struct([rB.ns64("unixTimestamp"),rB.ns64("epoch"),id("custodian")],e))()])},Authorize:{index:1,layout:rB.struct([rB.u32("instruction"),id("newAuthorized"),rB.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:rB.struct([rB.u32("instruction")])},Split:{index:3,layout:rB.struct([rB.u32("instruction"),rB.ns64("lamports")])},Withdraw:{index:4,layout:rB.struct([rB.u32("instruction"),rB.ns64("lamports")])},Deactivate:{index:5,layout:rB.struct([rB.u32("instruction")])},Merge:{index:7,layout:rB.struct([rB.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:rB.struct([rB.u32("instruction"),id("newAuthorized"),rB.u32("stakeAuthorizationType"),ih("authoritySeed"),id("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class nO{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:i}=e,n=i||nB.default,s=iU(nT.Initialize,{authorized:{staker:is(r.staker.toBuffer()),withdrawer:is(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:is(n.custodian.toBuffer())}});return new iE({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iT,isSigner:!1,isWritable:!1}],programId:this.programId,data:s})}static createAccountWithSeed(e){let t=new iA;t.add(iz.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:n}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static createAccount(e){let t=new iA;t.add(iz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:n}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,n=iU(nT.Delegate);return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:iO,isSigner:!1,isWritable:!1},{pubkey:nI,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:n,custodianPubkey:s}=e,a=iU(nT.Authorize,{newAuthorized:is(i.toBuffer()),stakeAuthorizationType:n.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new iA().add({keys:o,programId:this.programId,data:a})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:n,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:o}=e,u=iU(nT.AuthorizeWithSeed,{newAuthorized:is(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:is(n.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:iI,isSigner:!1,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new iA().add({keys:l,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:n}=e,s=iU(nT.Split,{lamports:n});return new iE({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){let r=new iA;return r.add(iz.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:n,basePubkey:s,seed:a,lamports:o}=e,u=new iA;return u.add(iz.allocate({accountPubkey:n,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(iz.transfer({fromPubkey:e.authorizedPubkey,toPubkey:n,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:n,lamports:o}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,n=iU(nT.Merge);return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:iO,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:n,custodianPubkey:s}=e,a=iU(nT.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:iO,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new iA().add({keys:o,programId:this.programId,data:a})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,i=iU(nT.Deactivate);return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}nO.programId=new il("Stake11111111111111111111111111111111111111"),nO.space=200;let nP=Object.freeze({InitializeAccount:{index:0,layout:rB.struct([rB.u32("instruction"),((e="voteInit")=>rB.struct([id("nodePubkey"),id("authorizedVoter"),id("authorizedWithdrawer"),rB.u8("commission")],e))()])},Authorize:{index:1,layout:rB.struct([rB.u32("instruction"),id("newAuthorized"),rB.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:rB.struct([rB.u32("instruction"),rB.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:rB.struct([rB.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:rB.struct([rB.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>rB.struct([rB.u32("voteAuthorizationType"),id("currentAuthorityDerivedKeyOwnerPubkey"),ih("currentAuthorityDerivedKeySeed"),id("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class nR{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:i}=e,n=iU(nP.InitializeAccount,{voteInit:{nodePubkey:is(i.nodePubkey.toBuffer()),authorizedVoter:is(i.authorizedVoter.toBuffer()),authorizedWithdrawer:is(i.authorizedWithdrawer.toBuffer()),commission:i.commission}});return new iE({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iT,isSigner:!1,isWritable:!1},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static createAccount(e){let t=new iA;return t.add(iz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:n}=e,s=iU(nP.Authorize,{newAuthorized:is(i.toBuffer()),voteAuthorizationType:n.index});return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:n,voteAuthorizationType:s,votePubkey:a}=e,o=iU(nP.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:is(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:is(n.toBuffer()),voteAuthorizationType:s.index}});return new iA().add({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:iI,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:n}=e,s=iU(nP.Withdraw,{lamports:i});return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return nR.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,n=iU(nP.UpdateValidatorIdentity);return new iA().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}nR.programId=new il("Vote111111111111111111111111111111111111111"),nR.space=3762,new il("Va1idator1nfo111111111111111111111111111111"),r1({name:rQ(),website:rY(rQ()),details:rY(rQ()),iconUrl:rY(rQ()),keybaseUsername:rY(rQ())}),new il("Vote111111111111111111111111111111111111111"),rB.struct([id("nodePubkey"),id("authorizedWithdrawer"),rB.u8("commission"),rB.nu64(),rB.seq(rB.struct([rB.nu64("slot"),rB.u32("confirmationCount")]),rB.offset(rB.u32(),-8),"votes"),rB.u8("rootSlotValid"),rB.nu64("rootSlot"),rB.nu64(),rB.seq(rB.struct([rB.nu64("epoch"),id("authorizedVoter")]),rB.offset(rB.u32(),-8),"authorizedVoters"),rB.struct([rB.seq(rB.struct([id("authorizedPubkey"),rB.nu64("epochOfLastAuthorizedSwitch"),rB.nu64("targetEpoch")]),32,"buf"),rB.nu64("idx"),rB.u8("isEmpty")],"priorVoters"),rB.nu64(),rB.seq(rB.struct([rB.nu64("epoch"),rB.nu64("credits"),rB.nu64("prevCredits")]),rB.offset(rB.u32(),-8),"epochCredits"),rB.struct([rB.nu64("slot"),rB.nu64("timestamp")],"lastTimestamp")]);let nU=e=>({request:e,signMessage:t=>e({method:"signMessage",params:{message:t}}),signTransaction:t=>e({method:"signTransaction",params:{transaction:t}}),signAndSendTransaction:t=>e({method:"signAndSendTransaction",params:t})});e.s(["createSolanaWalletProvider",0,nU],369042);var nL=e.i(181170);function nj(e){return nL.Buffer.from(e.serialize({verifySignatures:!1})).toString("base64")}e.i(2671);var nC=e.i(186246);e.i(360690),e.i(160323),e.i(452045),e.i(346264),e.i(302794),e.i(36512);var nN=e.i(356208),nz=e.i(569081);e.i(510273),e.i(223550),e.i(270576),e.i(74015);var nC=nC;class nZ extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof nZ){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof nZ&&t.cause.docsPath||t.docsPath,n=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${n}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=n,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function nW(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error){let{code:t}=e.error;throw new(t===nQ.code?nQ:t===nD.code?nD:t===nX.code?nX:t===nG.code?nG:t===nJ.code?nJ:t===nY.code?nY:t===nV.code?nV:t===n0.code?n0:t===nF.code?nF:t===nK.code?nK:t===nq.code?nq:t===nH.code?nH:n$)(e.error)}return e.result}class n$ extends Error{constructor(e){const{code:t,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=i}}class nD extends n${constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:nD.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(nD,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class nF extends n${constructor(e={}){super({message:"Requested resource not found.",...e,code:nF.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(nF,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class nK extends n${constructor(e={}){super({message:"Requested resource not available.",...e,code:nK.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(nK,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class nq extends n${constructor(e={}){super({message:"Transaction creation failed.",...e,code:nq.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(nq,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class nV extends n${constructor(e={}){super({message:"Method is not implemented.",...e,code:nV.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(nV,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class nJ extends n${constructor(e={}){super({message:"Rate limit exceeded.",...e,code:nJ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(nJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nH extends n${constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:nH.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(nH,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class nG extends n${constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:nG.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(nG,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class nY extends n${constructor(e={}){super({message:"Method does not exist.",...e,code:nY.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(nY,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class nX extends n${constructor(e={}){super({message:"Invalid method parameters.",...e,code:nX.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(nX,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class nQ extends n${constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:nQ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(nQ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class n0 extends n${constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:n0.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(n0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class n1 extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class n2 extends n1{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(n2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class n6 extends n1{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(n6,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class n3 extends n1{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(n3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class n5 extends n1{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(n5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class n4 extends n1{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(n4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class n8 extends nZ{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}let n9=Symbol("Comlink.proxy"),n7=Symbol("Comlink.endpoint"),se=Symbol("Comlink.releaseProxy"),st=Symbol("Comlink.finalizer"),sr=Symbol("Comlink.thrown"),si=e=>"object"==typeof e&&null!==e||"function"==typeof e,sn=new Map([["proxy",{canHandle:e=>si(e)&&e[n9],serialize(e){let{port1:t,port2:r}=new MessageChannel;return function e(t,r=globalThis,i=["*"]){r.addEventListener("message",function n(s){let a;if(!s||!s.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(i,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);let{id:o,type:u,path:l}=Object.assign({path:[]},s.data),c=(s.data.argumentList||[]).map(sp);try{var d,h,f;let r=l.slice(0,-1).reduce((e,t)=>e[t],t),i=l.reduce((e,t)=>e[t],t);switch(u){case"GET":a=i;break;case"SET":r[l.slice(-1)[0]]=sp(s.data.value),a=!0;break;case"APPLY":a=i.apply(r,c);break;case"CONSTRUCT":d=new i(...c),a=Object.assign(d,{[n9]:!0});break;case"ENDPOINT":{let{port1:r,port2:i}=new MessageChannel;e(t,i),h=r,f=[r],sh.set(h,f),a=h}break;case"RELEASE":a=void 0;break;default:return}}catch(e){a={value:e,[sr]:0}}Promise.resolve(a).catch(e=>({value:e,[sr]:0})).then(e=>{let[i,s]=sf(e);r.postMessage(Object.assign(Object.assign({},i),{id:o}),s),"RELEASE"===u&&(r.removeEventListener("message",n),ss(r),st in t&&"function"==typeof t[st]&&t[st]())}).catch(e=>{let[t,i]=sf({value:TypeError("Unserializable return value"),[sr]:0});r.postMessage(Object.assign(Object.assign({},t),{id:o}),i)})}),r.start&&r.start()}(e,t),[r,[r]]},deserialize:e=>(e.start(),sa(e))}],["throw",{canHandle:e=>si(e)&&sr in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function ss(e){"MessagePort"===e.constructor.name&&e.close()}function sa(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let i=r.get(t.id);if(i)try{i(t)}finally{r.delete(t.id)}}),function e(t,r,i=[],n=function(){}){let s,a=!1,o=new Proxy(n,{get(n,s){if(so(a),s===se)return()=>{sc&&sc.unregister(o),su(t),r.clear(),a=!0};if("then"===s){if(0===i.length)return{then:()=>o};let e=sm(t,r,{type:"GET",path:i.map(e=>e.toString())}).then(sp);return e.then.bind(e)}return e(t,r,[...i,s])},set(e,n,s){so(a);let[o,u]=sf(s);return sm(t,r,{type:"SET",path:[...i,n].map(e=>e.toString()),value:o},u).then(sp)},apply(n,s,o){so(a);let u=i[i.length-1];if(u===n7)return sm(t,r,{type:"ENDPOINT"}).then(sp);if("bind"===u)return e(t,r,i.slice(0,-1));let[l,c]=sd(o);return sm(t,r,{type:"APPLY",path:i.map(e=>e.toString()),argumentList:l},c).then(sp)},construct(e,n){so(a);let[s,o]=sd(n);return sm(t,r,{type:"CONSTRUCT",path:i.map(e=>e.toString()),argumentList:s},o).then(sp)}});return s=(sl.get(t)||0)+1,sl.set(t,s),sc&&sc.register(o,t,o),o}(e,r,[],t)}function so(e){if(e)throw Error("Proxy has been released and is not useable")}function su(e){return sm(e,new Map,{type:"RELEASE"}).then(()=>{ss(e)})}let sl=new WeakMap,sc="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(sl.get(e)||0)-1;sl.set(e,t),0===t&&su(e)});function sd(e){var t;let r=e.map(sf);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let sh=new WeakMap;function sf(e){for(let[t,r]of sn)if(r.canHandle(e)){let[i,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:i},n]}return[{type:"RAW",value:e},sh.get(e)||[]]}function sp(e){switch(e.type){case"HANDLER":return sn.get(e.name).deserialize(e.value);case"RAW":return e.value}}function sm(e,t,r,i){return new Promise(n=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,n),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),i)})}let sg=sa("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?{postMessage:e=>{window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}}:function(e,t=globalThis,r="*"){return{postMessage:(t,i)=>e.postMessage(t,r,i),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window)),sy={get eventNames(){return i.eventNames.bind(i)},get listenerCount(){return i.listenerCount.bind(i)},get listeners(){return i.listeners.bind(i)},addListener:(i=new r4.EventEmitter).addListener.bind(i),emit:i.emit.bind(i),off:i.off.bind(i),on:i.on.bind(i),once:i.once.bind(i),removeAllListeners:i.removeAllListeners.bind(i),removeListener:i.removeListener.bind(i)},sb=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}(),sv=function(e,t={}){let{includeEvents:r=!0}=t;if(!e)throw new n8;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){let r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?nW(r):r}}}({...sy,async request(e){let t=sb.prepare(e);try{let e=await sg.ethProviderRequestV2(t).then(e=>nW(e,{request:t,raw:!0}));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new n2;case 4100:return new n6;case 4200:return new n3;case 4900:return new n5;case 4901:return new n4;default:return new n1(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await sg.ethProviderRequest(t);if(e instanceof n1||e instanceof n$)throw e;throw new nQ({message:e instanceof Error?e.message:void 0})}}});async function sw(){try{let e=await sg.getCapabilities();if(!e.includes("wallet.getEthereumProvider")&&!e.includes("wallet.getEvmProvider"))return;return sv}catch{return sv}}function sx(e){let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);let r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",()=>{sg.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",e=>{if(e instanceof MessageEvent){let t=e.data;sy.emit(t.event,...t.params)}}),document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"eip6963:announceProvider"===t.event&&sx({info:t.info,provider:sv})}})),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",()=>{sg.eip6963RequestProvider()}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){let t=e.data;sy.emit(t.event,...t.params)}}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"eip6963:announceProvider"===t.event&&sx({info:t.info,provider:sv})}}));var nN=nN;crypto,new TextEncoder;let sk=new TextDecoder;class s_ extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}s_.code="ERR_JOSE_GENERIC";class sS extends s_{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}sS.code="ERR_JWT_INVALID";class sE extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof sE){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})();super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=r,this.shortMessage=e}}class sA extends sE{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class sM extends sE{constructor(e){super(e),this.name="InvalidToken"}}async function sI({origin:e}){let t=await fetch(`${e}/nonce`,{method:"POST"});if(!t.ok)throw new sA({status:t.status});return await t.json()}async function sB({origin:e},t){let r=await fetch(`${e}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)});if(!r.ok)throw new sA({status:r.status});let i=await r.json();if(!1===i.valid)throw new sM(i.message??"unknown");return{token:i.token}}class sT extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}({checksum:new sT(8192)}).checksum,e.i(239695);let sO=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,sP=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/,sR=(()=>{let e,t;async function r(t){let r=function(e={}){let t=function(e={}){return{origin:e.origin??"https://auth.farcaster.xyz"}}(e);return{generateNonce:()=>sI(t),verifySiwf:e=>sB(t,e)}}({origin:t.quickAuthServerOrigin}),{nonce:i}=await r.generateNonce(),n=await sg.signIn({nonce:i,acceptAuthAddress:!0});if(n.result){let t=function(e){let{scheme:t,statement:r,...i}=e.match(sO)?.groups??{},{chainId:n,expirationTime:s,issuedAt:a,notBefore:o,requestId:u,...l}=e.match(sP)?.groups??{},c=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...i,...l,...n?{chainId:Number(n)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...u?{requestId:u}:{},...c?{resources:c}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(n.result.message);if(!t.domain)throw Error("Missing domain on SIWE message");let i=await r.verifySiwf({domain:t.domain,message:n.result.message,signature:n.result.signature});return e={token:i.token,payload:function(e){let t,r;if("string"!=typeof e)throw new sS("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new sS("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new sS("Invalid JWT");if(!i)throw new sS("JWTs must contain a payload");try{t=(e=>{let t=e;t instanceof Uint8Array&&(t=sk.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;let e=atob(r),i=new Uint8Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}catch{throw TypeError("The input to be decoded is not correctly encoded.")}})(i)}catch{throw new sS("Failed to base64url decode the payload")}try{r=JSON.parse(sk.decode(t))}catch{throw new sS("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new sS("Invalid JWT Claims Set");return r}(i.token)},i}if("rejected_by_user"===n.error.type)throw new nN.RejectedByUser;throw Error("Unreachable")}return{get token(){if(e&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3))return e.token;return},async getToken(i={}){let n=i.force??!1;return e&&!n&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3)?{token:e.token}:(t||(t=r(i)),t.finally(()=>{t=void 0}),t)},async fetch(e,t){let{token:r}=await this.getToken(),i=new Headers(t?.headers);return i.set("Authorization",`Bearer ${r}`),fetch(e,{...t,headers:i})}}})(),sU={get eventNames(){return n.eventNames.bind(n)},get listenerCount(){return n.listenerCount.bind(n)},get listeners(){return n.listeners.bind(n)},addListener:(n=new r5.default).addListener.bind(n),emit:n.emit.bind(n),off:n.off.bind(n),on:n.on.bind(n),once:n.once.bind(n),removeAllListeners:n.removeAllListeners.bind(n),removeListener:n.removeListener.bind(n)};e.i(369042);let{solanaProviderRequest:sL}=sg;async function sj(){let e;try{e=await sg.getCapabilities()}catch{}if(e?.includes("wallet.getSolanaProvider"))return r}sL&&(r=nU(async e=>{if("connect"===e.method||"signMessage"===e.method)return await sL(e);if("signAndSendTransaction"===e.method){let{transaction:t}=e.params,r={transaction:nj(t)};return await sL({method:"signAndSendTransaction",params:r})}if("signTransaction"===e.method){let t,{transaction:r}=e.params,i={transaction:nj(r)},{signedTransaction:n}=await sL({method:"signTransaction",params:i});return{signedTransaction:(t=nL.Buffer.from(n,"base64"),"legacy"===i_.deserializeMessageVersion(t)?iM.deserialize(t):iA.from(t))}}}));let sC=null;async function sN(e=1e3){if(!0===sC)return!0;if("undefined"==typeof window||!window.ReactNativeWebView&&window===window.parent)return!1;let t=await Promise.race([sg.context.then(e=>!!e),new Promise(t=>{setTimeout(()=>t(!1),e)})]).catch(()=>!1);return t&&(sC=!0),t}let sz=async()=>{let e=await sg.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new nC.InvalidDomainManifest;if("rejected_by_user"===e.error.type)throw new nC.RejectedByUser;throw Error("Unreachable")},sZ={...sU,getCapabilities:sg.getCapabilities,getChains:sg.getChains,isInMiniApp:sN,context:sg.context,back:(({miniAppHost:e,emitter:t})=>{let r,i=null;return{visible:!1,get onback(){return i},set onback(cb){i&&t.removeListener("backNavigationTriggered",i),i=cb,cb&&t.addListener("backNavigationTriggered",cb)},async show(){await e.updateBackState({visible:!0}),this.visible=!0},async hide(){await e.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){r=function({emitter:e,back:t}){let r=function(){if("undefined"!=typeof window&&void 0!==window.navigation)return window.navigation}();return r?function({emitter:e,back:t,navigation:r}){function i(){r.canGoBack?t.show():t.hide()}function n(){t.visible&&r.canGoBack&&r.back()}return r.addEventListener("navigatesuccess",i),e.addListener("backNavigationTriggered",n),()=>{r.removeEventListener("navigatesuccess",i),e.removeListener("backNavigationTriggered",n)}}({emitter:e,back:t,navigation:r}):"undefined"!=typeof window?function({emitter:e,back:t,window:r}){function i(){t.visible&&r.history.back()}return t.show(),e.addListener("backNavigationTriggered",i),()=>{e.removeListener("backNavigationTriggered",i)}}({emitter:e,back:t,window}):void 0}({back:this,emitter:t})},async disableWebNavigation(){r?.(),r=void 0}}})({miniAppHost:sg,emitter:sU}),quickAuth:sR,actions:{setPrimaryButton:sg.setPrimaryButton.bind(sg),ready:async(e={})=>await sg.ready(e),close:sg.close.bind(sg),viewCast:sg.viewCast.bind(sg),viewProfile:sg.viewProfile.bind(sg),openMiniApp:sg.openMiniApp.bind(sg),signIn:async e=>{let t=await sg.signIn({...e,acceptAuthAddress:e.acceptAuthAddress??!0});if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new nN.RejectedByUser;throw Error("Unreachable")},openUrl:e=>{let t="string"==typeof e?e:e.url;return sg.openUrl(t.trim())},addFrame:sz,addMiniApp:sz,composeCast:(e={})=>sg.composeCast(e),viewToken:sg.viewToken.bind(sg),sendToken:sg.sendToken.bind(sg),swapToken:sg.swapToken.bind(sg),requestCameraAndMicrophoneAccess:sg.requestCameraAndMicrophoneAccess.bind(sg)},experimental:{getSolanaProvider:sj,signManifest:async e=>{let t=await sg.signManifest(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new nz.RejectedByUser;if("invalid_domain"===t.error.type)throw new nz.InvalidDomain;if("generic_error"===t.error.type)throw new nz.GenericError(t.error.message);throw Error("Unreachable")},quickAuth:e=>sR.getToken(e)},wallet:{ethProvider:sv,getEthereumProvider:sw,getSolanaProvider:sj},haptics:{impactOccurred:sg.impactOccurred.bind(sg),notificationOccurred:sg.notificationOccurred.bind(sg),selectionChanged:sg.selectionChanged.bind(sg)}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"primary_button_clicked"===t.event?sU.emit("primaryButtonClicked"):"miniapp_added"===t.event?sU.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?sU.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?sU.emit("miniAppRemoved"):"notifications_enabled"===t.event?sU.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?sU.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&sU.emit("backNavigationTriggered")}}),"undefined"!=typeof window&&window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"primary_button_clicked"===t.event?sU.emit("primaryButtonClicked"):"miniapp_added"===t.event?sU.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?sU.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?sU.emit("miniAppRemoved"):"notifications_enabled"===t.event?sU.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?sU.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&sU.emit("backNavigationTriggered")}}),e.s(["sdk",0,sZ],531080),e.s([],684362),e.s(["CHAIN_ID",0,8453,"CONTRACT_ADDRESS",0,"0xa31153705c9a205851e4bb983eaeac1a44d9575d","MAX_QTY_UI",0,5,"USDC_ADDRESS",0,"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913","USDC_DECIMALS",0,6],741474)}]);